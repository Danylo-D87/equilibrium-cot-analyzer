# COT Reports ‚Äî –ü–æ–≤–Ω–∏–π –ø–ª–∞–Ω —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

> **–î–æ–∫—É–º–µ–Ω—Ç**: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, —Ñ–æ—Ä–º—É–ª–∏, –ø—Ä–∏–Ω—Ü–∏–ø–∏ —Ç–∞ –ø–ª–∞–Ω —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó  
> **–í–µ—Ä—Å—ñ—è**: 1.0  
> **–î–∞—Ç–∞**: 2026-02-23

---

## –ó–º—ñ—Å—Ç

1. [–ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó](#1-–∑–∞–≥–∞–ª—å–Ω–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó)
2. [–ú–∞–ø–ø—ñ–Ω–≥ –∞–∫—Ç–∏–≤—ñ–≤: —è–∫–∏–π –∑–≤—ñ—Ç –¥–ª—è —è–∫–æ–≥–æ —Ä–∏–Ω–∫—É](#2-–º–∞–ø–ø—ñ–Ω–≥-–∞–∫—Ç–∏–≤—ñ–≤-—è–∫–∏–π-–∑–≤—ñ—Ç-–¥–ª—è-—è–∫–æ–≥–æ-—Ä–∏–Ω–∫—É)
3. [–°—Ç–æ—Ä—ñ–Ω–∫–∞ 1: –°–∫—Ä—ñ–Ω–µ—Ä (Screener / Watchlist)](#3-—Å—Ç–æ—Ä—ñ–Ω–∫–∞-1-—Å–∫—Ä—ñ–Ω–µ—Ä)
4. [–°—Ç–æ—Ä—ñ–Ω–∫–∞ 2: –î–∞—à–±–æ—Ä–¥ –∞–∫—Ç–∏–≤—É (Asset Detail View)](#4-—Å—Ç–æ—Ä—ñ–Ω–∫–∞-2-–¥–∞—à–±–æ—Ä–¥-–∞–∫—Ç–∏–≤—É)
5. [–°—Ç–æ—Ä—ñ–Ω–∫–∞ 3: –¢–∞–±–ª–∏—Ü—è —Ä–µ–ø–æ—Ä—Ç—É (Report Table)](#5-—Å—Ç–æ—Ä—ñ–Ω–∫–∞-3-—Ç–∞–±–ª–∏—Ü—è-—Ä–µ–ø–æ—Ä—Ç—É)
6. [–§–æ—Ä–º—É–ª–∏ —Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏](#6-—Ñ–æ—Ä–º—É–ª–∏-—Ç–∞-—Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏)
7. [–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º (Lookback)](#7-—É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è-–¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º-lookback)
8. [–î–∞–Ω—ñ: —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑ –±–µ–∫–µ–Ω–¥—É](#8-–¥–∞–Ω—ñ-—â–æ-–ø–æ—Ç—Ä—ñ–±–Ω–æ-–∑-–±–µ–∫–µ–Ω–¥—É)
9. [–¢–µ—Ö–Ω—ñ—á–Ω–∏–π –ø–ª–∞–Ω —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó](#9-—Ç–µ—Ö–Ω—ñ—á–Ω–∏–π-–ø–ª–∞–Ω-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó)

---

## 1. –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó

```
Landing Page
  ‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ "COT Reports" ‚Üí /cot/screener
        ‚îÇ
        ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ     SCREENER (Watchlist) ‚îÇ  ‚Üê –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ COT
  ‚îÇ  /cot/screener           ‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ  –ö–ª—ñ–∫ –Ω–∞ –∞–∫—Ç–∏–≤ ‚Üí        ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
            ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ   DASHBOARD (Asset View) ‚îÇ  ‚Üê –ê–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏–π –¥–∞—à–±–æ—Ä–¥
  ‚îÇ  /cot/dashboard/:code    ‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ  –ö–Ω–æ–ø–∫–∞ "Table" ‚Üí      ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
            ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ    REPORT TABLE          ‚îÇ  ‚Üê –Ü—Å–Ω—É—é—á–∞ —Ç–∞–±–ª–∏—Ü—è
  ‚îÇ  /cot/report/:code       ‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ  –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è FO/CO       ‚îÇ
  ‚îÇ  –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –∑–≤—ñ—Ç—ñ–≤      ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–æ–≤—ñ –∑–º—ñ–Ω–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó

| –ü–æ—Ç–æ—á–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç | –ù–æ–≤–∏–π –º–∞—Ä—à—Ä—É—Ç | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç |
|---|---|---|
| `/cot` | `/cot/screener` | `ScreenerPage` |
| `/cot/screener` | `/cot/screener` | `ScreenerPage` |
| ‚Äî (–Ω–æ–≤–∏–π) | `/cot/dashboard/:code` | `DashboardPage` |
| `/cot` (report tab) | `/cot/report/:code` | `ReportPage` |

**–†–µ–¥—ñ—Ä–µ–∫—Ç**: `/cot` ‚Üí `/cot/screener`

---

## 2. –ú–∞–ø–ø—ñ–Ω–≥ –∞–∫—Ç–∏–≤—ñ–≤: —è–∫–∏–π –∑–≤—ñ—Ç –¥–ª—è —è–∫–æ–≥–æ —Ä–∏–Ω–∫—É

### –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–µ –ø—Ä–∞–≤–∏–ª–æ

–î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∞–∫—Ç–∏–≤—É —î **–æ–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–∏–π –∑–≤—ñ—Ç** (primary) –∑ —è–∫–æ–≥–æ –±–µ—Ä—É—Ç—å—Å—è –¥–∞–Ω—ñ –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ —Å–∫—Ä—ñ–Ω–µ—Ä–∞ —Ç–∞ –¥–∞—à–±–æ—Ä–¥–∞. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏—Å—å –º—ñ–∂ —É—Å—ñ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –∑–≤—ñ—Ç–∞–º–∏ –≤ —Ç–∞–±–ª–∏—Ü—ñ —Ä–µ–ø–æ—Ä—Ç—É.

### –¢–∞–±–ª–∏—Ü—è –º–∞–ø–ø—ñ–Ω–≥—É

| –°–µ–∫—Ç–æ—Ä | –ê–∫—Ç–∏–≤–∏ | Primary Report | –°–ø–µ–∫—É–ª—è–Ω—Ç–∏ (Smart Money) | Commercials/–•–µ–¥–∂–µ—Ä–∏ |
|---|---|---|---|---|
| **FX (–í–∞–ª—é—Ç–∏)** | EUR, GBP, JPY, CAD, CHF, AUD, MXN, BRL, NZD | **TFF** | Leveraged Funds (`g3`) | Dealer/Intermediary (`g1`) |
| **Equity Indices** | S&P 500, Nasdaq 100, Dow Jones, Russell 2000, VIX | **TFF** | Leveraged Funds (`g3`) | Asset Manager (`g2`) |
| **Bonds** | 2Y, 5Y, 10Y, 30Y Treasury | **TFF** | Leveraged Funds (`g3`) | Dealer/Intermediary (`g1`) |
| **Metals** | Gold, Silver, Copper, Platinum | **Disagg** | Managed Money (`g3`) | Producer/Merchant (`g1`) |
| **Energy** | Crude Oil WTI, Natural Gas, Heating Oil, Gasoline RBOB, Ethanol | **Disagg** | Managed Money (`g3`) | Producer/Merchant (`g1`) |
| **Grains** | Corn, Soybeans, Wheat SRW, Wheat HRW, Soybean Meal, Soybean Oil | **Disagg** | Managed Money (`g3`) | Producer/Merchant (`g1`) |
| **Softs** | Sugar, Coffee, Cocoa | **Disagg** | Managed Money (`g3`) | Producer/Merchant (`g1`) |
| **Livestock** | Live Cattle, Lean Hogs, Feeder Cattle | **Disagg** | Managed Money (`g3`) | Producer/Merchant (`g1`) |
| **Crypto (CME BTC)** | Bitcoin (CME 5 BTC) | **TFF** | Leveraged Funds (`g3`) | Other Reportables (`g4`) |
| **Crypto (Nano BTC)** | Nano Bitcoin Perp Style | **Legacy** | Non-Commercial (`g1`) | ‚Äî (Commercial = 0) |
| **Crypto (Micro ETH)** | Micro Ethereum | **TFF** | Leveraged Funds (`g3`) | ‚Äî |

### CFTC –∫–æ–¥–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö

> **–ó–∞–≥–∞–ª–æ–º –≤ –±–∞–∑—ñ:** Legacy ‚Äî 508 –º–∞—Ä–∫–µ—Ç—ñ–≤, Disaggregated ‚Äî 401, TFF ‚Äî 106.  
> –ù–∏–∂—á–µ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤–∞–Ω—ñ **–∫–ª—é—á–æ–≤—ñ —Ä–∏–Ω–∫–∏** –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö –∑ Yahoo-—Ç—ñ–∫–µ—Ä–∞–º–∏ (–¥–µ —î).  
> –ú–∞—Ä–∫–µ—Ç–∏ –±–µ–∑ Yahoo-—Ç—ñ–∫–µ—Ä–∞ –ø—Ä–∞—Ü—é—é—Ç—å –±–µ–∑ –≥—Ä–∞—Ñ—ñ–∫–∞ —Ü—ñ–Ω–∏, –∞–ª–µ COT-–¥–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ.

```typescript
const ASSET_CONFIG: Record<string, AssetConfig> = {

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FX (13 markets) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  '099741': { name: 'Euro FX',             sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6E=F' },
  '096742': { name: 'British Pound',       sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6B=F' },
  '097741': { name: 'Japanese Yen',        sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6J=F' },
  '090741': { name: 'Canadian Dollar',     sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6C=F' },
  '092741': { name: 'Swiss Franc',         sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6S=F' },
  '232741': { name: 'Australian Dollar',   sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6A=F' },
  '095741': { name: 'Mexican Peso',        sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6M=F' },
  '102741': { name: 'Brazilian Real',      sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6L=F' },
  '112741': { name: 'New Zealand Dollar',  sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: '6N=F' },
  '089741': { name: 'Russian Ruble',       sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '082744': { name: 'Chinese Yuan (CNH)',  sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '098662': { name: 'USD Index',           sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'DX=F' },
  '299741': { name: 'Euro/British Pound',  sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '399741': { name: 'Euro/Japanese Yen',   sector: 'FX',        primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: null },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Metals (11 markets) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  '088691': { name: 'Gold',                sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'GC=F' },
  '084691': { name: 'Silver',              sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'SI=F' },
  '085692': { name: 'Copper',              sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'HG=F' },
  '076651': { name: 'Platinum',            sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'PL=F' },
  '075651': { name: 'Palladium',           sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'PA=F' },
  '191691': { name: 'Aluminum',            sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'ALI=F' },
  '191693': { name: 'Aluminum MWP',        sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '088695': { name: 'Micro Gold',          sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'MGC=F' },
  '084695': { name: 'Micro Silver',        sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'SIL=F' },
  '085694': { name: 'Micro Copper',        sector: 'Metals',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '088FM1': { name: 'FREX Gold',           sector: 'Metals',    primaryReport: 'legacy', specGroup: 'g1', commGroup: 'g2', yahoo: null },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Energy (14 markets) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  '067651': { name: 'Crude Oil WTI',       sector: 'Energy',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'CL=F' },
  '067411': { name: 'WTI Crude ICE',       sector: 'Energy',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '06765A': { name: 'WTI Financial',       sector: 'Energy',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '06741Q': { name: 'WTI 1st Line',        sector: 'Energy',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '023655': { name: 'Natural Gas',         sector: 'Energy',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'NG=F' },
  '022651': { name: 'Heating Oil',         sector: 'Energy',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'HO=F' },
  '111416': { name: 'RBOB Gasoline',       sector: 'Energy',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'RB=F' },
  '025651': { name: 'Ethanol',             sector: 'Energy',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Equity Indices (29 markets) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  '13874A': { name: 'E-Mini S&P 500',      sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'ES=F' },
  '13874+': { name: 'S&P 500 Consolidated',sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'ES=F' },
  '13874U': { name: 'Micro E-Mini S&P',    sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'MES=F' },
  '209742': { name: 'E-Mini Nasdaq 100',   sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'NQ=F' },
  '20974+': { name: 'Nasdaq 100 Consolidated', sector: 'Indices', primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'NQ=F' },
  '209747': { name: 'Micro Nasdaq 100',    sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'MNQ=F' },
  '124603': { name: 'DJIA x $5',           sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'YM=F' },
  '12460+': { name: 'DJIA Consolidated',   sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'YM=F' },
  '124608': { name: 'Micro DJIA',          sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'MYM=F' },
  '239742': { name: 'E-Mini Russell 2000', sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'RTY=F' },
  '239747': { name: 'Micro Russell 2000',  sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: null },
  '1170E1': { name: 'VIX Futures',         sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'VX=F' },
  '240741': { name: 'Nikkei Stock Average', sector: 'Indices',  primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: 'NIY=F' },
  '240743': { name: 'Nikkei/USD',          sector: 'Indices',   primaryReport: 'tff', specGroup: 'g3', commGroup: 'g2', yahoo: null },
  // + S&P sector indices (XAK, XAU, XAB, XAF...), Russell Growth/Value, BBG Commodity, MSCI EAFE/EM

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Rates / Bonds (10 markets) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  '042601': { name: '2-Year Treasury',     sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZT=F' },
  '044601': { name: '5-Year Treasury',     sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZF=F' },
  '043602': { name: '10-Year Treasury',    sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZN=F' },
  '020601': { name: '30-Year Treasury',    sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZB=F' },
  '043607': { name: 'Ultra 10-Year Note',  sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'TN=F' },
  '020604': { name: 'Ultra T-Bond',        sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'UB=F' },
  '134741': { name: 'SOFR 3-Month',        sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'SR3=F' },
  '134742': { name: 'SOFR 1-Month',        sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '132741': { name: 'Eurodollars',         sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '045601': { name: 'Fed Funds 30-Day',    sector: 'Bonds',     primaryReport: 'tff', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZQ=F' },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Grains (14 markets) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  '002602': { name: 'Corn',                sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZC=F' },
  '005602': { name: 'Soybeans',            sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZS=F' },
  '001602': { name: 'Wheat SRW',           sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZW=F' },
  '001612': { name: 'Wheat HRW (KC)',      sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'KE=F' },
  '001626': { name: 'Wheat HRSpring',      sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'MWE=F' },
  '026603': { name: 'Soybean Meal',        sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZM=F' },
  '007601': { name: 'Soybean Oil',         sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZL=F' },
  '004603': { name: 'Oats',                sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZO=F' },
  '039601': { name: 'Rough Rice',          sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'ZR=F' },
  '135731': { name: 'Canola',              sector: 'Grains',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  // + Mini Soybeans, Black Sea Wheat

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Softs (8 markets) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  '080732': { name: 'Sugar #11',           sector: 'Softs',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'SB=F' },
  '083731': { name: 'Coffee C',            sector: 'Softs',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'KC=F' },
  '073732': { name: 'Cocoa',               sector: 'Softs',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'CC=F' },
  '033661': { name: 'Cotton No. 2',        sector: 'Softs',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'CT=F' },
  '040701': { name: 'Frozen OJ',           sector: 'Softs',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'OJ=F' },
  '058644': { name: 'Lumber',              sector: 'Softs',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'LBS=F' },
  '058643': { name: 'Random Length Lumber', sector: 'Softs',    primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Livestock (3 markets) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  '057642': { name: 'Live Cattle',         sector: 'Livestock',  primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'LE=F' },
  '054642': { name: 'Lean Hogs',           sector: 'Livestock',  primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'HE=F' },
  '061641': { name: 'Feeder Cattle',       sector: 'Livestock',  primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: 'GF=F' },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Crypto (33 markets, key ones below) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // ‚Äî CME (TFF report) ‚Äî
  '133741': { name: 'Bitcoin (CME 5 BTC)',  sector: 'Crypto',   primaryReport: 'tff',    specGroup: 'g3', commGroup: 'g4', yahoo: 'BTC=F' },
  '133742': { name: 'Micro Bitcoin',        sector: 'Crypto',   primaryReport: 'tff',    specGroup: 'g3', commGroup: 'g4', yahoo: 'MBT=F' },
  '146021': { name: 'Ether',               sector: 'Crypto',    primaryReport: 'tff',    specGroup: 'g3', commGroup: 'g4', yahoo: 'ETH=F' },
  '146022': { name: 'Micro Ether',         sector: 'Crypto',    primaryReport: 'tff',    specGroup: 'g3', commGroup: 'g4', yahoo: null },
  '176740': { name: 'XRP',                 sector: 'Crypto',    primaryReport: 'tff',    specGroup: 'g3', commGroup: 'g4', yahoo: null },
  '176741': { name: 'Micro XRP',           sector: 'Crypto',    primaryReport: 'tff',    specGroup: 'g3', commGroup: 'g4', yahoo: null },
  '177741': { name: 'SOL',                 sector: 'Crypto',    primaryReport: 'tff',    specGroup: 'g3', commGroup: 'g4', yahoo: null },
  '177742': { name: 'Micro SOL',           sector: 'Crypto',    primaryReport: 'tff',    specGroup: 'g3', commGroup: 'g4', yahoo: null },

  // ‚Äî FREX Exchange Nano Perps (Legacy report ‚Äî –Ω–µ–º–∞—î TFF/Disagg) ‚Äî
  '133LM1': { name: 'Nano BTC Perp',       sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '146LM1': { name: 'Nano Ether Perp',     sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '177LM1': { name: 'Nano SOL Perp',       sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '176LM1': { name: 'Nano XRP Perp',       sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '174LM1': { name: 'Dogecoin Perp',       sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '178LM1': { name: 'Litecoin Perp',       sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '179LM1': { name: 'Chainlink Perp',      sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '180LM1': { name: 'Polkadot Perp',       sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '181LM1': { name: 'Avalanche Perp',      sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '182LM1': { name: 'Cardano Perp',        sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '183LM1': { name: 'Hedera Perp',         sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '184LM1': { name: 'Stellar Perp',        sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '185LM1': { name: 'SUI Perp',            sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '186LM1': { name: 'SHIB Perp',           sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },
  '187LM1': { name: 'BCH Perp',            sector: 'Crypto',   primaryReport: 'legacy', specGroup: 'g1', commGroup: null, yahoo: null },

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Other / Niche (373+ markets, major ones below) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // ‚Äî Dairy ‚Äî
  '063642': { name: 'Class III Milk',      sector: 'Other',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '022A01': { name: 'Non-Fat Dry Milk',    sector: 'Other',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '023A01': { name: 'Dry Whey',            sector: 'Other',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  '029A01': { name: 'Butter (Cash)',       sector: 'Other',     primaryReport: 'disagg', specGroup: 'g3', commGroup: 'g1', yahoo: null },
  // ‚Äî Power/Carbon/RECs ‚Äî —Å–æ—Ç–Ω—ñ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤, –¥–∏–Ω–∞–º—ñ—á–Ω–æ –ø—ñ–¥—Ç—è–≥—É—é—Ç—å—Å—è –∑ API
  // ‚Äî Fertilizer, Steel, Cobalt, Lithium —Ç–æ—â–æ
};
```

**–ü—ñ–¥—Å—É–º–æ–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö (–∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å):**

| –°–µ–∫—Ç–æ—Ä | –ö–ª—é—á–æ–≤–∏—Ö —É –∫–æ–Ω—Ñ—ñ–≥—É | –í—Å—å–æ–≥–æ –≤ –±–∞–∑—ñ | –ó Yahoo-—Ç—ñ–∫–µ—Ä–æ–º |
|---|---|---|---|
| FX (–í–∞–ª—é—Ç–∏) | 14 | 13 | 10 |
| Metals (–ú–µ—Ç–∞–ª–∏) | 11 | 11 | 8 |
| Energy (–ï–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞) | 8 | 14 | 5 |
| Indices (–Ü–Ω–¥–µ–∫—Å–∏) | 14 | 29 | 12 |
| Bonds / Rates (–°—Ç–∞–≤–∫–∏) | 10 | 10 | 7 |
| Grains (–ó–µ—Ä–Ω–æ–≤—ñ) | 10 | 14 | 9 |
| Softs (–ú'—è–∫—ñ —Ç–æ–≤–∞—Ä–∏) | 7 | 8 | 6 |
| Livestock (–¢–≤–∞—Ä–∏–Ω–Ω–∏—Ü—Ç–≤–æ) | 3 | 3 | 3 |
| Crypto (–ö—Ä–∏–ø—Ç–æ) | 23 | 33 | ~3 |
| Other (–Ü–Ω—à—ñ) | 4+ | ~373 | ~20 |
| **–†–∞–∑–æ–º** | **~104** | **~508** | **~85** |

> **–ü—Ä–∏–º—ñ—Ç–∫–∞**: –ú–∞—Ä–∫–µ—Ç–∏ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó "Other" (power, carbon, RECs, dairy, fertilizer —Ç–æ—â–æ) 
> –ø—ñ–¥—Ç—è–≥—É—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑ –±–µ–∫–µ–Ω–¥—É. –î–ª—è –Ω–∏—Ö –∑–∞–∑–≤–∏—á–∞–π –Ω–µ–º–∞—î Yahoo-—Ç—ñ–∫–µ—Ä–∞, –∞–ª–µ COT-–∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø—Ä–∞—Ü—é—î –ø–æ–≤–Ω—ñ—Å—Ç—é.

### –õ–æ–≥—ñ–∫–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è specGroup / commGroup

```
IF primaryReport == 'tff':
    specGroup = 'g3' (Leveraged Funds)
    commGroup = 'g1' (Dealer/Intermediary) –∞–±–æ 'g2' (Asset Manager –¥–ª—è —ñ–Ω–¥–µ–∫—Å—ñ–≤)
    
ELIF primaryReport == 'disagg':
    specGroup = 'g3' (Managed Money)
    commGroup = 'g1' (Producer/Merchant/Processor/User)
    
ELIF primaryReport == 'legacy':
    specGroup = 'g1' (Non-Commercial / Large Speculators)
    commGroup = 'g2' (Commercials)
    # –î–ª—è FREX Perps: commGroup = null (Commercial = 0)
```

---

## 3. –°—Ç–æ—Ä—ñ–Ω–∫–∞ 1: –°–∫—Ä—ñ–Ω–µ—Ä

### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

–°–∫—Ä—ñ–Ω–µ—Ä ‚Äî —Ü–µ —Ä–∞–¥–∞—Ä. –í—ñ–Ω –ø–æ–∫–∞–∑—É—î –¥–µ —Ä–∏–Ω–∫–æ–≤–∏–π –Ω–∞—Ç–æ–≤–ø –∑–∞–π—à–æ–≤ –Ω–∞–¥—Ç–æ –¥–∞–ª–µ–∫–æ —ñ –¥–µ —Ñ–æ—Ä–º—É—î—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞ –∫—Ä–∏—Ö–∫—ñ—Å—Ç—å. –ù–µ –¥–∞—î —Å–∏–≥–Ω–∞–ª—ñ–≤ –Ω–∞ –≤—Ö—ñ–¥.

### –§—ñ–ª—å—Ç—Ä–∏ —Ç–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è

**–°–µ–∫—Ç–æ—Ä–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏** (chip-–∫–Ω–æ–ø–∫–∏ –∑ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞–º–∏):
- All
- FX (–í–∞–ª—é—Ç–∏) ‚Äî 14 —Ä–∏–Ω–∫—ñ–≤
- Metals (–ú–µ—Ç–∞–ª–∏) ‚Äî 11 —Ä–∏–Ω–∫—ñ–≤
- Energy (–ï–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞) ‚Äî 8+ —Ä–∏–Ω–∫—ñ–≤
- Indices (–Ü–Ω–¥–µ–∫—Å–∏) ‚Äî 14+ —Ä–∏–Ω–∫—ñ–≤
- Bonds/Rates (–°—Ç–∞–≤–∫–∏) ‚Äî 10 —Ä–∏–Ω–∫—ñ–≤
- Grains (–ó–µ—Ä–Ω–æ–≤—ñ) ‚Äî 10+ —Ä–∏–Ω–∫—ñ–≤
- Softs (–ú'—è–∫—ñ —Ç–æ–≤–∞—Ä–∏) ‚Äî 7 —Ä–∏–Ω–∫—ñ–≤
- Livestock (–¢–≤–∞—Ä–∏–Ω–Ω–∏—Ü—Ç–≤–æ) ‚Äî 3 —Ä–∏–Ω–∫–∏
- Crypto (–ö—Ä–∏–ø—Ç–æ) ‚Äî 23+ —Ä–∏–Ω–∫–∏
- Other (–Ü–Ω—à—ñ) ‚Äî 373+ —Ä–∏–Ω–∫–∏ (power, carbon, dairy...)

**–¢–µ–∫—Å—Ç–æ–≤–∏–π –ø–æ—à—É–∫** –ø–æ –Ω–∞–∑–≤—ñ –∞–∫—Ç–∏–≤—É.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–æ–Ω–æ–∫ Data Grid

> **–í–∞–∂–ª–∏–≤–æ**: –î–∞–Ω—ñ –¥–ª—è —Å–∫—Ä—ñ–Ω–µ—Ä–∞ –±–µ—Ä—É—Ç—å—Å—è –∑ **primary report** –∫–æ–∂–Ω–æ–≥–æ –∞–∫—Ç–∏–≤—É. –¢–æ–±—Ç–æ –¥–ª—è EUR ‚Äî –∑ TFF (g3 = Leveraged Funds), –¥–ª—è Gold ‚Äî –∑ Disagg (g3 = Managed Money), –¥–ª—è Nano BTC ‚Äî –∑ Legacy (g1 = Non-Commercial).

| # | –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å | –î–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö | –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è |
|---|---|---|---|---|
| 1 | **Asset** | –ù–∞–∑–≤–∞, —Ç—ñ–∫–µ—Ä, —Å–µ–∫—Ç–æ—Ä-–±–µ–π–¥–∂ | `market.name`, `market.exchange_code`, `market.category` | –ù–∞–∑–≤–∞ + –∫–æ–ª—å–æ—Ä–æ–≤–∏–π chip —Å–µ–∫—Ç–æ—Ä–∞ |
| 2 | **Net Position** | –ß–∏—Å—Ç–∞ –ø–æ–∑–∏—Ü—ñ—è —Å–ø–µ–∫—É–ª—è–Ω—Ç—ñ–≤ (Longs ‚àí Shorts) —É –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö | `week[specGroup + '_net']` | –ß–∏—Å–ª–æ –∑ –∫–æ–ª—å–æ—Ä–æ–º (–∑–µ–ª–µ–Ω–∏–π +, —á–µ—Ä–≤–æ–Ω–∏–π ‚àí) |
| 3 | **104-Week Percentile** | –î–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ—Ç–æ—á–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è –≤—ñ–¥–Ω–æ—Å–Ω–æ 2 —Ä–æ–∫—ñ–≤ | `COT_Index_1y` (52w) –∞–±–æ custom 104w | **–ö–æ–ª—ñ—Ä–Ω–∞ —à–∫–∞–ª–∞**: <5% = üü¢ (–∫–∞–ø—ñ—Ç—É–ª—è—Ü—ñ—è), >95% = üî¥ (–ø–µ—Ä–µ–≥—Ä—ñ–≤), —Ä–µ—à—Ç–∞ ‚Äî —Å—ñ—Ä–∏–π/–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∏–π. –ü—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä. |
| 4 | **Z-Score** | –í—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –≤—ñ–¥ —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ —É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è—Ö | –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –∑–∞ –æ–±—Ä–∞–Ω–∏–π lookback | –ß–∏—Å–ª–æ –∑ ‚ö†Ô∏è –∞–ª–µ—Ä—Ç–æ–º –ø—Ä–∏ > +2.0 –∞–±–æ < ‚àí2.0 |
| 5 | **1-Week Change (WoW)** | –ó–º—ñ–Ω–∞ –Ω–µ—Ç—Ç–æ-–ø–æ–∑–∏—Ü—ñ—ó –∑–∞ —Ç–∏–∂–¥–µ–Ω—å | `week[specGroup + '_change_net']` | –ß–∏—Å–ª–æ –∑—ñ —Å—Ç—Ä—ñ–ª–∫–æ—é ‚ñ≤/‚ñº —Ç–∞ –∫–æ–ª—å–æ—Ä–æ–º |
| 6 | **Open Interest Trend** | –ó–º—ñ–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ —ñ–Ω—Ç–µ—Ä–µ—Å—É | `week.oi_change`, `week.oi_pct` | –ß–∏—Å–ª–æ + ‚ñ≤/‚ñº + –ø—Ä–æ—Ü–µ–Ω—Ç |
| 7 | **FLIP** | –°—Ç–∞—Ç—É—Å-—Ç–µ–≥ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó —Å–∏–≥–Ω–∞–ª—ñ–≤ | –ê–ª–≥–æ—Ä–∏—Ç–º –Ω–∏–∂—á–µ | –¢–µ–∫—Å—Ç–æ–≤–∏–π —Ç–µ–≥: "Overcrowded" / "Reversal Watch" / "Pre-Flip" / "Neutral" / "Extreme" |

### –ê–ª–≥–æ—Ä–∏—Ç–º FLIP-—Ç–µ–≥—ñ–≤

```python
def get_flip_tag(percentile, z_score, wow_change, prev_net, curr_net):
    """
    –ü–æ–≤–µ—Ä—Ç–∞—î —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ç–µ–≥ —Å—Ç–∞–Ω—É –∞–∫—Ç–∏–≤—É.
    """
    # Flip: –ø–µ—Ä–µ—Ç–∏–Ω –Ω—É–ª—è ‚Äî –Ω–∞–π—Å–∏–ª—å–Ω—ñ—à–∏–π —Å–∏–≥–Ω–∞–ª
    if sign(prev_net) != sign(curr_net) and prev_net != 0:
        return "FLIP üîÑ"
    
    # Overcrowded: >95 percentile –∞–±–æ <5% + Z > |2.0|
    if (percentile >= 95 and z_score >= 2.0) or (percentile <= 5 and z_score <= -2.0):
        return "Overcrowded ‚ö†Ô∏è"
    
    # Reversal Watch: >90% –∞–ª–µ change –π–¥–µ –ø—Ä–æ—Ç–∏ –ø–æ–∑–∏—Ü—ñ—ó
    if percentile >= 90 and wow_change < 0 and curr_net > 0:
        return "Reversal Watch üëÅÔ∏è"
    if percentile <= 10 and wow_change > 0 and curr_net < 0:
        return "Reversal Watch üëÅÔ∏è"
    
    # Extreme: –ø—Ä–æ—Å—Ç–æ –≤ –∑–æ–Ω—ñ –µ–∫—Å—Ç—Ä–µ–º—É–º—É
    if percentile >= 90 or percentile <= 10:
        return "Extreme"
    
    # Pre-Flip: –ø–æ–∑–∏—Ü—ñ—è –±–ª–∏–∑—å–∫–∞ –¥–æ –Ω—É–ª—è —ñ –∞–∫—Ç–∏–≤–Ω–æ —Ä—É—Ö–∞—î—Ç—å—Å—è
    if abs(curr_net) < abs(prev_net) * 0.3 and abs(wow_change) > 0:
        return "Pre-Flip"
    
    return "Neutral"
```

### –î—ñ—è –ø—Ä–∏ –∫–ª—ñ–∫—É

–ö–ª—ñ–∫ –Ω–∞ —Ä—è–¥–æ–∫ ‚Üí –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –¥–æ `/cot/dashboard/{code}` ‚Äî –¥–∞—à–±–æ—Ä–¥ –∞–∫—Ç–∏–≤—É.

---

## 4. –°—Ç–æ—Ä—ñ–Ω–∫–∞ 2: –î–∞—à–±–æ—Ä–¥ –∞–∫—Ç–∏–≤—É

### –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  HEADER SNAPSHOT                                       ‚îÇ
‚îÇ  –¢—ñ–∫–µ—Ä | –ù–∞–∑–≤–∞ | Data As Of | Current State            ‚îÇ
‚îÇ  [‚Üê Screener]  [Table ‚Üí]  [Lookback: 2Y ‚ñº]           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ  ‚îÇ Block 1.1        ‚îÇ  ‚îÇ Block 1.2        ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ NET LONG +       ‚îÇ  ‚îÇ NET SHORT +      ‚îÇ           ‚îÇ
‚îÇ  ‚îÇ Percentile Zones ‚îÇ  ‚îÇ Percentile Zones ‚îÇ           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Block 2: Divergence Chart                 ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ Price vs Positioning (Non-Comm + Comm)    ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Block 3: Open Interest Analysis           ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Block 4: Historical Distribution          ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Block 5: Sector-Specific Sidebar          ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Block 6: FLIP Detection                   ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ ‚ïê‚ïê‚ïê ADVANCED INDICATORS ‚ïê‚ïê‚ïê                            ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Indicator 1: Market Power                 ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Indicator 2: Position Velocity            ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Indicator 3: Sentiment Divergence         ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îÇ
‚îÇ  ‚îÇ Indicator 4:  ‚îÇ  ‚îÇ Indicator 5:  ‚îÇ                 ‚îÇ
‚îÇ  ‚îÇ Concentration ‚îÇ  ‚îÇ Triple        ‚îÇ                 ‚îÇ
‚îÇ  ‚îÇ Ratio (Gauge) ‚îÇ  ‚îÇ Lookback      ‚îÇ                 ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 4.0 Header Snapshot

| –ï–ª–µ–º–µ–Ω—Ç | –ó–º—ñ—Å—Ç |
|---|---|
| **–¢—ñ–∫–µ—Ä + –ù–∞–∑–≤–∞** | `{exchange_code} ‚Äî {name}` (–Ω–∞–ø—Ä. "GC ‚Äî Gold") |
| **Data As Of** | –î–∞—Ç–∞ —Ñ—ñ–∫—Å–∞—Ü—ñ—ó (–≤—ñ–≤—Ç–æ—Ä–æ–∫) + –¥–∞—Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó (–ø'—è—Ç–Ω–∏—Ü—è). –§–æ—Ä–º–∞—Ç: "Data as of Tue, Feb 11 ¬∑ Published Fri, Feb 14" |
| **Current State** | –®–≤–∏–¥–∫–µ –∑–≤–µ–¥–µ–Ω–Ω—è: "{percentile}th Percentile \| Z-Score: {z} \| {label}" –¥–µ label = "Extreme Net Long" / "Extreme Net Short" / "Neutral" |
| **–ö–Ω–æ–ø–∫–∏** | `‚Üê Back to Screener` \| `View Report Table ‚Üí` |
| **Lookback selector** | Dropdown/pills –¥–ª—è –≤–∏–±–æ—Ä—É –¥—ñ–∞–ø–∞–∑–æ–Ω—É |

---

### 4.1 Block 1.1: Net Long Analysis

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –¢—Ä–∏ –ø–∞–Ω–µ–ª—ñ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ.

#### –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å ‚Äî –õ—ñ–Ω—ñ–π–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ —Ü—ñ–Ω–∏
- **–¢–∏–ø**: Line chart
- **–î–∞–Ω—ñ**: `prices[].close` (–∑ –±–µ–∫–µ–Ω–¥—É ‚Äî Yahoo Finance)
- **X-axis**: –î–∞—Ç–∞
- **Y-axis**: –¶—ñ–Ω–∞ –∞–∫—Ç–∏–≤—É

#### –°–µ—Ä–µ–¥–Ω—è –ø–∞–Ω–µ–ª—å ‚Äî Net Long + Percentile Zones
- **–¢–∏–ø**: Line chart –∑ –∑–∞–ª–∏–≤–∫–æ—é –∑–æ–Ω
- **–î–∞–Ω—ñ**: –ù–µ—Ç—Ç–æ-–ø–æ–∑–∏—Ü—ñ—è —Å–ø–µ–∫—É–ª—è–Ω—Ç—ñ–≤ (specGroup `_long` ‚àí specGroup `_short`)  
  ‚ö†Ô∏è **–¢—É—Ç –ø–æ–∫–∞–∑—É—î–º–æ —Ç—ñ–ª—å–∫–∏ LONG —Å—Ç–æ—Ä–æ–Ω—É**: `specGroup_long` –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏
- **–ó–æ–Ω–∏** (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ):
  - –õ—ñ–Ω—ñ—è 95-–≥–æ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—é –≤—ñ–¥ –∑–Ω–∞—á–µ–Ω—å longs –∑–∞ lookback ‚Üí –∑–æ–Ω–∞ –≤–∏—â–µ = **—á–µ—Ä–≤–æ–Ω–∞** (–ø–µ—Ä–µ–≥—Ä—ñ–≤ –ª–æ–Ω–≥—ñ–≤)
  - –õ—ñ–Ω—ñ—è 5-–≥–æ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—é –≤—ñ–¥ –∑–Ω–∞—á–µ–Ω—å longs –∑–∞ lookback ‚Üí –∑–æ–Ω–∞ –Ω–∏–∂—á–µ = **–∑–µ–ª–µ–Ω–∞** (–∫–∞–ø—ñ—Ç—É–ª—è—Ü—ñ—è –ª–æ–Ω–≥—ñ–≤)
- **Y-axis**: –ö—ñ–ª—å–∫—ñ—Å—Ç—å long-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤

#### –ù–∏–∂–Ω—è –ø–∞–Ω–µ–ª—å ‚Äî Z-Score –¥–ª—è Longs
- **–¢–∏–ø**: Line chart
- **–î–∞–Ω—ñ**: Z-Score –≤—ñ–¥ —Å–µ—Ä—ñ—ó long-–ø–æ–∑–∏—Ü—ñ–π
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ –ª—ñ–Ω—ñ—ó**: +2.0 —Ç–∞ ‚àí2.0 (–ø—É–Ω–∫—Ç–∏—Ä–Ω—ñ)
- **Y-axis**: Z-Score value

**–§–æ—Ä–º—É–ª–∞ Z-Score**:
$$Z_t = \frac{Long_t - \overline{Long}_{lookback}}{\sigma_{Long,lookback}}$$

---

### 4.2 Block 1.2: Net Short Analysis

–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ Block 1.1, –∞–ª–µ –¥–ª—è **SHORT** —Å—Ç–æ—Ä–æ–Ω–∏:

#### –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å ‚Äî –õ—ñ–Ω—ñ–π–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ —Ü—ñ–Ω–∏ (—Ç–æ–π —Å–∞–º–∏–π)

#### –°–µ—Ä–µ–¥–Ω—è –ø–∞–Ω–µ–ª—å ‚Äî Shorts + Percentile Zones
- **–î–∞–Ω—ñ**: `specGroup_short` –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏
- **–ó–æ–Ω–∏**: 95-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å shorts = –±–∞–≥–∞—Ç–æ —à–æ—Ä—Ç—ñ–≤ (–∑–µ–ª–µ–Ω–∞ ‚Äî –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π short squeeze), 5-–π = –º–∞–ª–æ —à–æ—Ä—Ç—ñ–≤ (—á–µ—Ä–≤–æ–Ω–∞ ‚Äî –º–∞–ª–æ —Ö–µ–¥–∂—É)

#### –ù–∏–∂–Ω—è –ø–∞–Ω–µ–ª—å ‚Äî Z-Score –¥–ª—è Shorts
$$Z_t = \frac{Short_t - \overline{Short}_{lookback}}{\sigma_{Short,lookback}}$$

---

### 4.3 Block 2: –ì—Ä–∞—Ñ—ñ–∫ –î–∏–≤–µ—Ä–≥–µ–Ω—Ü—ñ—ó (Price vs. Positioning)

> **–°–µ—Ä—Ü–µ –¥–∞—à–±–æ—Ä–¥–∞**. –ü–æ–∫–∞–∑—É—î –Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –º—ñ–∂ —Ü—ñ–Ω–æ—é —Ç–∞ –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è–º.

#### –í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å ‚Äî –õ—ñ–Ω—ñ–π–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ —Ü—ñ–Ω–∏
- Line chart —Ü—ñ–Ω–∏ –∞–∫—Ç–∏–≤—É

#### –ù–∏–∂–Ω—è –ø–∞–Ω–µ–ª—å ‚Äî Net Position –¥–≤–æ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- **–õ—ñ–Ω—ñ—è 1 (—Å–∏–Ω—è)**: Net Position —Å–ø–µ–∫—É–ª—è–Ω—Ç—ñ–≤ (specGroup)  
  `Net_spec = specGroup_long ‚àí specGroup_short`
- **–õ—ñ–Ω—ñ—è 2 (–ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∞)**: Net Position commercials (commGroup)  
  `Net_comm = commGroup_long ‚àí commGroup_short`
- –á—Ö –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ **–¥–∑–µ—Ä–∫–∞–ª—å–Ω–∞** ‚Üí –∫–æ–ª–∏ —Ä–æ–∑—Ä–∏–≤ –¥–æ—Å—è–≥–∞—î –º–∞–∫—Å–∏–º—É–º—É, —Ä–∏–Ω–æ–∫ –Ω–∞–±–ª–∏–∂–∞—î—Ç—å—Å—è –¥–æ —Ç–æ—á–∫–∏ —Ä–æ–∑–ª–æ–º—É

#### –ë—ñ—á–Ω–∞ –ø–∞–Ω–µ–ª—å (sidebar widget)
- **Spread Percentile**: –ü–æ—Ç–æ—á–Ω–∏–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å —Ä—ñ–∑–Ω–∏—Ü—ñ `|Net_spec ‚àí Net_comm|`
- **10th Percentile line**: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞ –ø—É–Ω–∫—Ç–∏—Ä–Ω–∞ –ª—ñ–Ω—ñ—è –Ω–∞ –Ω–∏–∂–Ω—ñ–π –ø–∞–Ω–µ–ª—ñ, —â–æ –≤—ñ–¥–º—ñ—á–∞—î 10-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å —à–∏—Ä–∏–Ω–∏ —Ä–æ–∑—Ä–∏–≤—É (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Ä–æ–∑–±—ñ–∂–Ω—ñ—Å—Ç—å)

**–§–æ—Ä–º—É–ª–∞ —à–∏—Ä–∏–Ω–∏ —Ä–æ–∑—Ä–∏–≤—É (Spread)**:
$$Spread_t = Net_{spec,t} - Net_{comm,t}$$

**Percintile Spread**:
$$P_{spread} = \frac{|\{Spread_i \leq Spread_t, \; i \in lookback\}|}{N_{lookback}} \times 100$$

---

### 4.4 Block 3: –ü—É–ª—å—Å –¢—Ä–µ–Ω–¥—É (Open Interest Analysis)

#### –ì—Ä–∞—Ñ—ñ–∫
- **–í–µ—Ä—Ö–Ω—è –ø–∞–Ω–µ–ª—å**: –õ—ñ–Ω—ñ–π–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ —Ü—ñ–Ω–∏ –∞–∫—Ç–∏–≤—É, **–¥–µ –ª—ñ–Ω—ñ—è —Ü—ñ–Ω–∏ —Ä–æ–∑—Ñ–∞—Ä–±–æ–≤–∞–Ω–∞** –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –º–∞—Ç—Ä–∏—Ü—ñ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—ó
- **–ù–∏–∂–Ω—è –ø–∞–Ω–µ–ª—å**: Area chart –≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ —ñ–Ω—Ç–µ—Ä–µ—Å—É (`open_interest`)

#### –ú–∞—Ç—Ä–∏—Ü—è —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—ó (Auto-Tag)

| –¶—ñ–Ω–∞ | Open Interest | –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è | –ö–æ–ª—ñ—Ä –ª—ñ–Ω—ñ—ó —Ü—ñ–Ω–∏ |
|---|---|---|---|
| ‚Üë –†–æ—Å—Ç–µ | ‚Üë –†–æ—Å—Ç–µ | –°–∏–ª—å–Ω–∏–π –ø–æ–ø–∏—Ç, –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ç—Ä–µ–Ω–¥—É | üü¢ **–ó–µ–ª–µ–Ω–∏–π** |
| ‚Üì –ü–∞–¥–∞—î | ‚Üì –ü–∞–¥–∞—î | –ó–∞–∫—Ä–∏—Ç—Ç—è –ª–æ–Ω–≥-–ø–æ–∑–∏—Ü—ñ–π (–≤–∏–º—É—à–µ–Ω–µ) | üü° **–ñ–æ–≤—Ç–∏–π** |
| ‚Üë –†–æ—Å—Ç–µ | ‚Üì –ü–∞–¥–∞—î | –ó–∞–∫—Ä–∏—Ç—Ç—è —à–æ—Ä—Ç-–ø–æ–∑–∏—Ü—ñ–π | üîµ **–°–∏–Ω—ñ–π** |
| ‚Üì –ü–∞–¥–∞—î | ‚Üë –†–æ—Å—Ç–µ | –ü–æ—è–≤–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó, –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —à–æ—Ä—Ç—ñ–≤ | üî¥ **–ß–µ—Ä–≤–æ–Ω–∏–π** |

**–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞–ø—Ä—è–º–∫—É** (week-over-week):
```python
price_direction = 'up' if price[t] > price[t-1] else 'down'
oi_direction    = 'up' if oi[t] > oi[t-1] else 'down'
```

---

### 4.5 Block 4: –Ü—Å—Ç–æ—Ä–∏—á–Ω–∏–π –ö–æ–Ω—Ç–µ–∫—Å—Ç (Distribution)

- **–¢–∏–ø**: Histogram (–≥—ñ—Å—Ç–æ–≥—Ä–∞–º–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª—É)
- **–î–∞–Ω—ñ**: –£—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è Net Position —Å–ø–µ–∫—É–ª—è–Ω—Ç—ñ–≤ –∑–∞ lookback period (104 —Ç–∏–∂–Ω—ñ)
- **Bins**: 20‚Äì30 –±—ñ–Ω—ñ–≤
- **–í—ñ–¥–º—ñ—Ç–∫–∞**: –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞ –ª—ñ–Ω—ñ—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ç–∏–∂–Ω—è —ñ–∑ –∑–Ω–∞—á–µ–Ω–Ω—è–º —Ç–∞ percentile
- **–ö–æ–ª—å–æ—Ä–∏**: –ë—ñ–Ω, –≤ —è–∫–æ–º—É –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è = —è—Å–∫—Ä–∞–≤–∏–π, —Ä–µ—à—Ç–∞ = –ø—Ä–∏–≥–ª—É—à–µ–Ω—ñ

–¶–µ –≤—ñ–∑—É–∞–ª—å–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î Z-Score: —è–∫—â–æ –ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ —Ö–≤–æ—Å—Ç—ñ —Ä–æ–∑–ø–æ–¥—ñ–ª—É ‚Äî —Ü–µ –≤–∏–¥–Ω–æ –æ–¥—Ä–∞–∑—É.

---

### 4.6 Block 5: –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (Sidebar)

**–ó–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å–µ–∫—Ç–æ—Ä–∞ –∞–∫—Ç–∏–≤—É**:

| –°–µ–∫—Ç–æ—Ä | –ú–µ—Ç—Ä–∏–∫–∏ | –î–∂–µ—Ä–µ–ª–æ |
|---|---|---|
| **FX** | Carry Trade –º–µ—Ç—Ä–∏–∫–∏: —Ä—ñ–∑–Ω–∏—Ü—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∏—Ö —Å—Ç–∞–≤–æ–∫ (interest rate differential); –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¶–ë | –°—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ –∞–±–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π API |
| **Grains/Softs** | –°–µ–∑–æ–Ω–Ω–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä: —Ü–∏–∫–ª–∏ –ø–æ—Å—ñ–≤—É/–∑–±–æ—Ä—É; —Ç–∏–∂–Ω–µ–≤–∏–π seasonal chart (5Y average vs current) | –†–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –∑—ñ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö |
| **Bonds** | –†–æ–∑–ø–æ–¥—ñ–ª –ø–æ –∫—Ä–∏–≤—ñ–π –ø—Ä–∏–±—É—Ç–∫–æ–≤–æ—Å—Ç—ñ: —Å—Ç–∞–Ω –ø–æ–∑–∏—Ü—ñ–π –ø–æ 2Y, 5Y, 10Y, 30Y –æ–¥–Ω–æ—á–∞—Å–Ω–æ; steep/flat/inverted label | –î–∞–Ω—ñ –∑ —ñ–Ω—à–∏—Ö markets —É bonds category |
| **Energy** | Crack spread (—è–∫—â–æ —î –¥–∞–Ω—ñ), seasonal demand chart | –†–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è |
| **Metals** | Gold/Silver ratio, –ø—Ä–æ–º–∏—Å–ª–æ–≤–µ vs safe-haven –ø–æ–∑–∏—Ü–∏–æ–Ω—É–≤–∞–Ω–Ω—è | Cross-market –¥–∞–Ω—ñ |
| **Indices** | VIX vs Equity inverse relationship | Cross-market –¥–∞–Ω—ñ |
| **Crypto** | Funding rate chart (–¥–ª—è Nano BTC Perp), spot premium/discount | –ó–æ–≤–Ω—ñ—à–Ω—î API –∞–±–æ –ø—Ä–∏–º—ñ—Ç–∫–∞ |

> **–ü—Ä–∏–º—ñ—Ç–∫–∞**: –¶–µ–π –±–ª–æ–∫ **–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π** (v2). –ú–æ–∂–Ω–∞ –ø–æ—á–∏–Ω–∞—Ç–∏ —è–∫ —Ç–µ–∫—Å—Ç–æ–≤—ñ –ø—ñ–¥–∫–∞–∑–∫–∏ —ñ –ø–æ—Ç—ñ–º –¥–æ–¥–∞–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –≤—ñ–¥–∂–µ—Ç–∏.

---

### 4.7 Block 6: FLIP Detection

> **Flip** ‚Äî –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ—Ç–∏–Ω–∞–Ω–Ω—è –Ω—É–ª—å–æ–≤–æ—ó –ø–æ–∑–Ω–∞—á–∫–∏ –ø–æ–∫–∞–∑–Ω–∏–∫–æ–º –Ω–µ—Ç—Ç–æ-–ø–æ–∑–∏—Ü—ñ—ó.

#### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è: Bubble Chart –Ω–∞ —Ü—ñ–Ω–æ–≤–æ–º—É –≥—Ä–∞—Ñ—ñ–∫—É

- **–û—Å–Ω–æ–≤–∞**: –õ—ñ–Ω—ñ–π–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ —Ü—ñ–Ω–∏
- **Bubbles (–±—É–ª—å–±–∞—à–∫–∏)**: –í—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ —Ç–æ—á–∫–∞—Ö, –¥–µ —Å—Ç–∞–ª–æ—Å—å –ø–µ—Ä–µ—Ç–∏–Ω–∞–Ω–Ω—è –Ω—É–ª—è
  - üü¢ **–ó–µ–ª–µ–Ω–∞ –±—É–ª—å–±–∞—à–∫–∞**: Flip –∑ Short ‚Üí Long (–Ω–µ—Ç—Ç–æ —Å—Ç–∞–ª–∞ –¥–æ–¥–∞—Ç–Ω—å–æ—é)
  - üî¥ **–ß–µ—Ä–≤–æ–Ω–∞ –±—É–ª—å–±–∞—à–∫–∞**: Flip –∑ Long ‚Üí Short (–Ω–µ—Ç—Ç–æ —Å—Ç–∞–ª–∞ –≤—ñ–¥'—î–º–Ω–æ—é)
- **–ü–æ–∑–∏—Ü—ñ—è**: –ù–∞ —Ä—ñ–≤–Ω—ñ —Ü—ñ–Ω–∏ –≤ –º–æ–º–µ–Ω—Ç flip
- **–†–æ–∑–º—ñ—Ä –±—É–ª—å–±–∞—à–∫–∏**: –ü—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–∏–π –¥–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–∏ –Ω–µ—Ç—Ç–æ-–ø–æ–∑–∏—Ü—ñ—ó –∑–∞ —Ç–∏–∂–¥–µ–Ω—å flip-—É

#### –ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ—Ç–µ–∫—Ü—ñ—ó Flip
```python
def detect_flips(weeks):
    flips = []
    for i in range(1, len(weeks)):
        prev_net = weeks[i-1].spec_net
        curr_net = weeks[i].spec_net
        
        if prev_net <= 0 and curr_net > 0:
            flips.append({
                'date': weeks[i].date,
                'type': 'LONG',  # –ü–µ—Ä–µ—Ö—ñ–¥ –≤ net long
                'magnitude': curr_net - prev_net,
                'price': prices[weeks[i].date]
            })
        elif prev_net >= 0 and curr_net < 0:
            flips.append({
                'date': weeks[i].date,
                'type': 'SHORT',  # –ü–µ—Ä–µ—Ö—ñ–¥ –≤ net short
                'magnitude': abs(curr_net - prev_net),
                'price': prices[weeks[i].date]
            })
    
    return flips
```

#### –î–æ–¥–∞—Ç–∫–æ–≤–æ: Long vs Short Bias Chart
- **–¢–∏–ø**: Stacked area / 100% stacked bar
- **–§–æ—Ä–º—É–ª–∞**:
$$Long\% = \frac{Longs}{Longs + Shorts} \times 100$$
$$Short\% = \frac{Shorts}{Longs + Shorts} \times 100$$
- Flip –≤–∏–¥–Ω–æ —è–∫ —Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Ç–∏–Ω—É –¥–µ –æ–¥–Ω–∞ —á–∞—Å—Ç–∫–∞ –ø–∞–¥–∞—î –Ω–∏–∂—á–µ 50%

---

### 4.8 Indicator 1: Market Power (–°—Ç–∏—Å–Ω–µ–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ)

> –ì–æ–ª–æ–≤–Ω–∏–π "–ø—ñ–¥–≤–∞–ª—å–Ω–∏–π" —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—ñ–¥ —Ü—ñ–Ω–æ–≤–∏–º –≥—Ä–∞—Ñ—ñ–∫–æ–º.

#### –¢–∏–ø –≥—Ä–∞—Ñ—ñ–∫–∞: Stacked Area Chart

#### –§–æ—Ä–º—É–ª–∏

$$L\_Power_t = \frac{Longs_{spec,t}}{OI_t} \times 100\%$$

$$S\_Power_t = \frac{Shorts_{spec,t}}{OI_t} \times 100\%$$

#### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
- –í–µ—Ä—Ö–Ω—è —á–∞—Å—Ç–∏–Ω–∞ (–∑–µ–ª–µ–Ω–∞ –∑–æ–Ω–∞): $L\_Power$
- –ù–∏–∂–Ω—è —á–∞—Å—Ç–∏–Ω–∞ (—á–µ—Ä–≤–æ–Ω–∞ –∑–æ–Ω–∞): $S\_Power$
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ –ø—É–Ω–∫—Ç–∏—Ä–Ω—ñ –ª—ñ–Ω—ñ—ó** –Ω–∞ —Ä—ñ–≤–Ω—ñ **30%** (–∫—Ä–∏—Ç–∏—á–Ω–∏–π –ø–æ—Ä—ñ–≥)

#### –¢—Ä–∏–≥–µ—Ä (Alert)
```python
if S_Power > 30:
    # –ù–∞ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ü—ñ–Ω–æ–≤–æ–º—É –≥—Ä–∞—Ñ—ñ–∫—É –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∏–π —Ñ–æ–Ω –±–ª—ñ–¥–æ-—á–µ—Ä–≤–æ–Ω–∏–º
    # ‚Üí –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –∑–æ–Ω—É –º–æ–∂–ª–∏–≤–æ–≥–æ SHORT SQUEEZE
    highlight_price_bg('light-red')

if L_Power > 30:
    # –ê–Ω–æ–º–∞–ª—å–Ω–æ –≤–∏—Å–æ–∫–∏–π long ‚Üí —Ä–∏–∑–∏–∫ –ª—ñ–∫–≤—ñ–¥–∞—Ü—ñ—ó
    highlight_price_bg('light-green')
```

> –ö–æ–ª–∏ –æ–¥–Ω–∞ –∑ –∑–æ–Ω –ø–µ—Ä–µ—Ç–∏–Ω–∞—î 30%, –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ü—ñ–Ω–æ–≤–æ–º—É –≥—Ä–∞—Ñ—ñ–∫—É —Ñ–æ–Ω –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –ø—ñ–¥—Å–≤—ñ—á—É—î—Ç—å—Å—è –±–ª—ñ–¥–∏–º –∫–æ–ª—å–æ—Ä–æ–º (–±–ª—ñ–¥–æ-—á–µ—Ä–≤–æ–Ω–∏–π –¥–ª—è –∞–Ω–æ–º–∞–ª—å–Ω–∏—Ö —à–æ—Ä—Ç—ñ–≤, –±–ª—ñ–¥–æ-–∑–µ–ª–µ–Ω–∏–π –¥–ª—è –∞–Ω–æ–º–∞–ª—å–Ω–∏—Ö –ª–æ–Ω–≥—ñ–≤).

---

### 4.9 Indicator 2: Position Velocity (–û—Å—Ü–∏–ª—è—Ç–æ—Ä —à–≤–∏–¥–∫–æ—Å—Ç—ñ)

> Pre-Flip —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–∞ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü—ñ–π.

#### –¢–∏–ø –≥—Ä–∞—Ñ—ñ–∫–∞: –ì—ñ—Å—Ç–æ–≥—Ä–∞–º–∞ –æ—Å—Ü–∏–ª—è—Ç–æ—Ä–∞ (—Å—Ç–∏–ª—å MACD Histogram)

#### –§–æ—Ä–º—É–ª–∞

$$Velocity_t = \Delta Pos_t - \Delta Pos_{t-1}$$

–¥–µ:
$$\Delta Pos_t = Net_{spec,t} - Net_{spec,t-1}$$

–¢–æ–±—Ç–æ Velocity ‚Äî —Ü–µ **–¥—Ä—É–≥–∞ –ø–æ—Ö—ñ–¥–Ω–∞** –Ω–µ—Ç—Ç–æ-–ø–æ–∑–∏—Ü—ñ—ó (–ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –∑–º—ñ–Ω–∏ –ø–æ–∑–∏—Ü—ñ—ó).

#### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ –ª—ñ–Ω—ñ—è**: –Ω—É–ª—å
- **–°—Ç–æ–≤–ø—á–∏–∫–∏ –≤–∏—â–µ –Ω—É–ª—è (Solid fill)**: –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –ø–æ–∫—É–ø–æ–∫/—Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è –ø—Ä–æ–¥–∞–∂—ñ–≤
- **–°—Ç–æ–≤–ø—á–∏–∫–∏, —â–æ —Å–ø–∞–¥–∞—é—Ç—å –¥–æ –Ω—É–ª—è (Hollow/transparent)**: —Ç–µ–º–ø –ø–∞–¥–∞—î ‚Äî –∑–æ–Ω–∞ **Pre-Flip**
- **–ö–æ–ª—å–æ—Ä–∏**: –ó–µ–ª–µ–Ω—ñ –ø—Ä–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–º—É velocity (–Ω–∞—Ä–æ—Å—Ç–∞–Ω–Ω—è), —á–µ—Ä–≤–æ–Ω—ñ –ø—Ä–∏ –≤—ñ–¥'—î–º–Ω–æ–º—É

#### –¢—Ä–∏–≥–µ—Ä (–°–∏–≥–Ω–∞–ª)
```python
# –ö–æ–ª–∏ –≥—ñ—Å—Ç–æ–≥—Ä–∞–º–∞ —à–≤–∏–¥–∫–æ—Å—Ç—ñ –π–¥–µ –ø—Ä–æ—Ç–∏ –Ω–∞–ø—Ä—è–º–∫—É –∑–∞–≥–∞–ª—å–Ω–æ—ó –ø–æ–∑–∏—Ü—ñ—ó
if net_spec > 0 and velocity < 0:
    # –§–æ–Ω–¥–∏ —â–µ –≤ –ª–æ–Ω–≥—É, –∞–ª–µ –≥—ñ—Å—Ç–æ–≥—Ä–∞–º–∞ –≤–∂–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–∞
    show_warning_icon('yellow-diamond', position='above_price_candle')
    
elif net_spec < 0 and velocity > 0:
    # –§–æ–Ω–¥–∏ –≤ —à–æ—Ä—Ç—ñ, –∞–ª–µ velocity –ø–æ–∑–∏—Ç–∏–≤–Ω–∞ ‚Äî —à–æ—Ä—Ç–∏ –≤–∏—á–µ—Ä–ø—É—é—Ç—å—Å—è
    show_warning_icon('yellow-diamond', position='above_price_candle')
```

> **–ñ–æ–≤—Ç–∏–π —Ä–æ–º–±** (‚¨•) –º–∞–ª—é—î—Ç—å—Å—è –Ω–∞–¥ –ø–æ—Ç–æ—á–Ω–æ—é —Ü—ñ–Ω–æ—é —è–∫ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è.

---

### 4.10 Indicator 3: Sentiment Divergence (–ö–æ–Ω—Ñ–ª—ñ–∫—Ç —ñ–Ω—Ç–µ—Ä–µ—Å—ñ–≤)

> –ù–∞–æ—á–Ω–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—Ä–µ–≥—Ä—ñ–≤—É —Ç–∞ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É –º—ñ–∂ —É—á–∞—Å–Ω–∏–∫–∞–º–∏.

#### –¢–∏–ø –≥—Ä–∞—Ñ—ñ–∫–∞: Dual Line Chart (0 to 100 scale)

#### –§–æ—Ä–º—É–ª–∏

–û–±–∏–¥–≤—ñ –ª—ñ–Ω—ñ—ó –Ω–æ—Ä–º–∞–ª—ñ–∑—É—é—Ç—å—Å—è –¥–æ —à–∫–∞–ª–∏ 0‚Äì100 —á–µ—Ä–µ–∑ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å–Ω–∏–π —Ä–∞–Ω–≥:

$$Line_{spec,t} = Percentile(Net_{spec,t}, lookback)$$
$$Line_{comm,t} = Percentile(Net_{comm,t}, lookback)$$

#### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
- **–õ—ñ–Ω—ñ—è Leveraged Funds / Managed Money** (—Å–∏–Ω—è): –≤—ñ–¥ 0 –¥–æ 100
- **–õ—ñ–Ω—ñ—è Commercials** (–ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∞): –≤—ñ–¥ 0 –¥–æ 100
- **–ó–æ–Ω–∏ –µ–∫—Å—Ç—Ä–µ–º—É–º—ñ–≤**: 
  - –í–µ—Ä—Ö–Ω—è: 90‚Äì100 (–∑–∞—Ç—ñ–Ω–µ–Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞ —Å–º—É–≥–∞)
  - –ù–∏–∂–Ω—è: 0‚Äì10 (–∑–∞—Ç—ñ–Ω–µ–Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞ —Å–º—É–≥–∞)

#### Divergence Zone
```python
if line_spec >= 90 and line_comm <= 10:
    # –ü—Ä–æ—Å—Ç—ñ—Ä –º—ñ–∂ –¥–≤–æ–º–∞ –ª—ñ–Ω—ñ—è–º–∏ –∑–∞—Ñ–∞—Ä–±–æ–≤—É—î—Ç—å—Å—è –ß–ï–†–í–û–ù–ò–ú/–§–Ü–û–õ–ï–¢–û–í–ò–ú
    fill_between(line_spec, line_comm, color='red/purple', alpha=0.3)
    
elif line_spec <= 10 and line_comm >= 90:
    # –ó–≤–æ—Ä–æ—Ç–Ω–∞ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü—ñ—è
    fill_between(line_comm, line_spec, color='green', alpha=0.3)
```

#### –¢—Ä–∏–≥–µ—Ä
```
–ö–æ–ª–∏ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü—ñ—è –∞–∫—Ç–∏–≤–Ω–∞ ‚Üí —É –∫—É—Ç—ñ –±–ª–æ–∫—É –±–∞–Ω–µ—Ä:
"‚ö†Ô∏è Crowded Trade Detected. Smart Money vs Crowd Conflict"
```

---

### 4.11 Indicator 4: Concentration Ratio (–î–µ—Ç–µ–∫—Ç–æ—Ä –∫–∏—Ç—ñ–≤)

> –ú–µ—Ç—Ä–∏–∫–∞ "—Ç—É—Ç —ñ –∑–∞—Ä–∞–∑" ‚Äî —á–∞—Å—Ç–∫–∞ –¢–û–ü-4 —Ç—Ä–µ–π–¥–µ—Ä—ñ–≤.

#### –¢–∏–ø –≥—Ä–∞—Ñ—ñ–∫–∞: Gauge Meter (–°–ø—ñ–¥–æ–º–µ—Ç—Ä) –∞–±–æ Horizontal Bar

#### –î–∞–Ω—ñ
CFTC –ø—É–±–ª—ñ–∫—É—î % –ø–æ–∑–∏—Ü—ñ–π, —â–æ –Ω–∞–ª–µ–∂–∞—Ç—å Top-4 —Ç–∞ Top-8 —Ç—Ä–µ–π–¥–µ—Ä–∞–º —É –∫–æ–∂–Ω—ñ–π –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (Long Format report). 

> **–ü—Ä–∏–º—ñ—Ç–∫–∞**: –¶—ñ –¥–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –Ω–µ –∑ —É—Å—ñ—Ö –∑–≤—ñ—Ç—ñ–≤. –Ø–∫—â–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ ‚Äî –±–ª–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —É —Å–ø—Ä–æ—â–µ–Ω–æ–º—É –≤–∏–≥–ª—è–¥—ñ –∞–±–æ —Ö–æ–≤–∞—î—Ç—å—Å—è.

#### –®–∫–∞–ª–∞
| –ó–æ–Ω–∞ | –î—ñ–∞–ø–∞–∑–æ–Ω | –ö–æ–ª—ñ—Ä | –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è |
|---|---|---|---|
| –ó–¥–æ—Ä–æ–≤–∞ | 0‚Äì40% | üü¢ –ó–µ–ª–µ–Ω–∏–π | –î–∏–≤–µ—Ä—Å–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —Ä–∏–Ω–æ–∫ |
| –ü—ñ–¥–≤–∏—â–µ–Ω–∞ | 40‚Äì60% | üü° –ñ–æ–≤—Ç–∏–π | –ü–æ–º—ñ—Ä–Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è |
| –ù–µ–±–µ–∑–ø–µ—á–Ω–∞ | >60% | üî¥ –ß–µ—Ä–≤–æ–Ω–∏–π | –í–∏—Å–æ–∫–∏–π —Ä–∏–∑–∏–∫ –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ–π; —Ä—É—Ö —Ç—Ä–∏–º–∞—î—Ç—å—Å—è –Ω–∞ 1‚Äì2 –≥—Ä–∞–≤—Ü—è—Ö |

#### –Ø–∫ —á–∏—Ç–∞—Ç–∏
> –Ø–∫—â–æ –±–∞—á–∏—à —Å–∏–ª—å–Ω–∏–π —Ä—É—Ö —Ü—ñ–Ω–∏ —ñ —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É –≤ —ñ–Ω—à–∏—Ö –±–ª–æ–∫–∞—Ö, –∫–∏–Ω—å –ø–æ–≥–ª—è–¥ –Ω–∞ —Ü–µ–π –≤—ñ–¥–∂–µ—Ç. –Ø–∫—â–æ —Å—Ç—Ä—ñ–ª–∫–∞ –≤ —á–µ—Ä–≤–æ–Ω—ñ–π –∑–æ–Ω—ñ ‚Äî —Ä—É—Ö —Ç—Ä–∏–º–∞—î—Ç—å—Å—è –Ω–∞ 1‚Äì2 –∫—Ä—É–ø–Ω–∏—Ö –≥—Ä–∞–≤—Ü—è—Ö —ñ –º–æ–∂–µ –±—É—Ç–∏ —à—Ç—É—á–Ω–∏–º.

---

### 4.12 Indicator 5: Triple Lookback (–ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å)

> –ú—É–ª—å—Ç–∏—Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑ —É —Ñ–æ—Ä–º—ñ —Ç–µ–ø–ª–æ–≤–æ—ó –∫–∞—Ä—Ç–∏.

#### –¢–∏–ø –≥—Ä–∞—Ñ—ñ–∫–∞: Multi-timeframe Heatmap (–¢–µ–ø–ª–æ–≤–∞ –∫–∞—Ä—Ç–∞-–º–∞—Ç—Ä–∏—Ü—è)

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

| | Net Position | Percentile | Z-Score |
|---|---|---|---|
| **1 Year (52w)** | –∑–Ω–∞—á–µ–Ω–Ω—è | –∫–ª—ñ—Ç–∏–Ω–∫–∞ | –∫–ª—ñ—Ç–∏–Ω–∫–∞ |
| **3 Years (156w)** | –∑–Ω–∞—á–µ–Ω–Ω—è | –∫–ª—ñ—Ç–∏–Ω–∫–∞ | –∫–ª—ñ—Ç–∏–Ω–∫–∞ |
| **5 Years (252w)** | –∑–Ω–∞—á–µ–Ω–Ω—è | –∫–ª—ñ—Ç–∏–Ω–∫–∞ | –∫–ª—ñ—Ç–∏–Ω–∫–∞ |

#### –ö–æ–ª—å–æ—Ä–∏ –∫–ª—ñ—Ç–∏–Ω–æ–∫
| –°—Ç–∞–Ω | –ö–æ–ª—ñ—Ä |
|---|---|
| –ù–µ–π—Ç—Ä–∞–ª—å–Ω–∏–π (25‚Äì75 percentile) | ‚¨ú –°—ñ—Ä–∏–π |
| Long Extremum (>90 percentile) | üü¢ –Ø—Å–∫—Ä–∞–≤–æ-–∑–µ–ª–µ–Ω–∏–π |
| Short Extremum (<10 percentile) | üî¥ –Ø—Å–∫—Ä–∞–≤–æ-—á–µ—Ä–≤–æ–Ω–∏–π |
| –ü–æ–º—ñ—Ä–Ω–∏–π (75‚Äì90 –∞–±–æ 10‚Äì25) | –ü–æ–º—ñ—Ä–Ω–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫ |

#### –¢—Ä–∏–≥–µ—Ä: Alignment
```python
if all(percentile > 90 for percentile in [p_1y, p_3y, p_5y]):
    alert("üö® Historic Reversal Zone Reached ‚Äî All timeframes aligned at Long Extreme")
    
elif all(percentile < 10 for percentile in [p_1y, p_3y, p_5y]):
    alert("üö® Historic Reversal Zone Reached ‚Äî All timeframes aligned at Short Extreme")
```

> –ö–æ–ª–∏ –ø–æ—Ç–æ—á–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è —Å—Ç–∞—î –µ–∫—Å—Ç—Ä–µ–º—É–º–æ–º –æ–¥—Ä–∞–∑—É –¥–ª—è –≤—Å—ñ—Ö —Ç—Ä—å–æ—Ö –ø–µ—Ä—ñ–æ–¥—ñ–≤, —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä—É—î –ø–æ—Ç—É–∂–Ω–∏–π –∞–ª–µ—Ä—Ç.

---

## 5. –°—Ç–æ—Ä—ñ–Ω–∫–∞ 3: –¢–∞–±–ª–∏—Ü—è —Ä–µ–ø–æ—Ä—Ç—É

### –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É

–ó –¥–∞—à–±–æ—Ä–¥–∞: –∫–Ω–æ–ø–∫–∞ `View Report Table ‚Üí` ‚Üí `/cot/report/{code}`

### –ü–µ—Ä–µ–º–∏–∫–∞—á—ñ

1. **Subtype**: Futures Only (FO) / Combined Futures + Options (CO)
   - Default: **FO** (Futures Only)
   
2. **Report Type**: –ó–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –¥–ª—è –∞–∫—Ç–∏–≤—É
   - –î–ª—è EUR: TFF (primary, default) + Legacy (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π)
   - –î–ª—è Gold: Disagg (primary, default) + Legacy (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π)
   - Default: **primary report** –∑ –∫–æ–Ω—Ñ—ñ–≥—É –∞–∫—Ç–∏–≤—É

### –í–º—ñ—Å—Ç

–Ü—Å–Ω—É—é—á–∞ `CotReportTable` ‚Äî –±–µ–∑ –∑–º—ñ–Ω. –í–æ–Ω–∞ –≤–∂–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î:
- –¢–∏–∂–Ω–µ–≤—ñ –¥–∞–Ω—ñ –ø–æ –≤—Å—ñ—Ö –≥—Ä—É–ø–∞—Ö
- COT Index (3m, 1y, 3y)
- WCI (26w)
- Crowded Level –∑ BUY/SELL —Å–∏–≥–Ω–∞–ª–∞–º–∏
- Heatmaps, stat rows

---

## 6. –§–æ—Ä–º—É–ª–∏ —Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏

### 6.1 Net Position (–ß–∏—Å—Ç–∞ –ø–æ–∑–∏—Ü—ñ—è)

$$Net_t = Longs_t - Shorts_t$$

–î–ª—è –∫–æ–∂–Ω–æ—ó –≥—Ä—É–ø–∏: `g{i}_long - g{i}_short = g{i}_net`

### 6.2 Percentile Rank (–ü–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å–Ω–∏–π —Ä–∞–Ω–≥)

$$P_t = \frac{|\{Net_i \leq Net_t, \; i \in [t-N, t]\}| - 0.5}{N} \times 100$$

–¥–µ $N$ ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–∏–∂–Ω—ñ–≤ —É lookback window. –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±–º–µ–∂—É—î—Ç—å—Å—è [1, 99].

**Lookback periods**:
- 52w (1 —Ä—ñ–∫) ‚Äî –¥–ª—è —Ç–∞–∫—Ç–∏—á–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤
- 104w (2 —Ä–æ–∫–∏) ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç (–æ—Å–Ω–æ–≤–Ω–∏–π)
- 156w (3 —Ä–æ–∫–∏) ‚Äî –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- 260w (5 —Ä–æ–∫—ñ–≤) ‚Äî –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏—Ö —Ä–µ–∂–∏–º—ñ–≤

### 6.3 Z-Score

$$Z_t = \frac{Net_t - \bar{Net}_{lookback}}{\sigma_{Net,lookback}}$$

–¥–µ:
- $\bar{Net}_{lookback}$ ‚Äî —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è Net –∑–∞ lookback period
- $\sigma_{Net,lookback}$ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è Net –∑–∞ lookback period

**–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è**:
| Z-Score | –ó–Ω–∞—á–µ–Ω–Ω—è |
|---|---|
| 0 | –ù–∞ —Å–µ—Ä–µ–¥–Ω—å–æ–º—É —Ä—ñ–≤–Ω—ñ |
| ¬±1.0 | –ü–æ–º—ñ—Ä–Ω–µ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è (~84-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å) |
| ¬±2.0 | –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ –Ω–µ–∑–≤–∏—á–Ω–µ (~97-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å) |
| ¬±3.0 | –ï–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–µ (~99.7-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å) |

### 6.4 COT Index (Min-Max –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è)

$$COT\_Index_t = \frac{Net_t - Min_{lookback}}{Max_{lookback} - Min_{lookback}} \times 100$$

- 0 = –ø–æ–∑–∏—Ü—ñ—è –Ω–∞ –º—ñ–Ω—ñ–º—É–º—ñ lookback
- 100 = –ø–æ–∑–∏—Ü—ñ—è –Ω–∞ –º–∞–∫—Å–∏–º—É–º—ñ lookback
- \>80 = –µ–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∏–π –ª–æ–Ω–≥
- <20 = –µ–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∏–π —à–æ—Ä—Ç

### 6.5 Weekly Change (WoW)

$$\Delta Net_t = Net_t - Net_{t-1}$$

### 6.6 Market Power

$$L\_Power_t = \frac{Longs_{spec,t}}{OI_t} \times 100\%$$
$$S\_Power_t = \frac{Shorts_{spec,t}}{OI_t} \times 100\%$$

### 6.7 Position Velocity (–î—Ä—É–≥–∞ –ø–æ—Ö—ñ–¥–Ω–∞)

$$\Delta Pos_t = Net_t - Net_{t-1}$$
$$Velocity_t = \Delta Pos_t - \Delta Pos_{t-1}$$

–ï–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–æ:
$$Velocity_t = Net_t - 2 \cdot Net_{t-1} + Net_{t-2}$$

### 6.8 Sentiment Divergence Index

–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–±–æ—Ö –ª—ñ–Ω—ñ–π –¥–æ —à–∫–∞–ª–∏ 0‚Äì100 —á–µ—Ä–µ–∑ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å:
$$SDI_{spec,t} = Percentile(Net_{spec,t}, lookback)$$
$$SDI_{comm,t} = Percentile(Net_{comm,t}, lookback)$$

**Divergence Zone**: $SDI_{spec} \geq 90$ AND $SDI_{comm} \leq 10$ (–∞–±–æ –Ω–∞–≤–ø–∞–∫–∏)

### 6.9 Long/Short Bias (–¥–ª—è Flip –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è)

$$Long\%_t = \frac{Longs_t}{Longs_t + Shorts_t} \times 100$$
$$Short\%_t = 100 - Long\%_t$$

Flip = –º–æ–º–µ–Ω—Ç –∫–æ–ª–∏ $Long\%$ –ø–µ—Ä–µ—Ç–∏–Ω–∞—î 50%.

### 6.10 OI-Based Signal Matrix

```
Œîprice = price[t] - price[t-1]
ŒîOI    = OI[t] - OI[t-1]

if Œîprice > 0 and ŒîOI > 0:  signal = "Strong Demand"     color = green
if Œîprice < 0 and ŒîOI < 0:  signal = "Long Liquidation"  color = yellow
if Œîprice > 0 and ŒîOI < 0:  signal = "Short Covering"    color = blue
if Œîprice < 0 and ŒîOI > 0:  signal = "New Supply"        color = red
```

### 6.11 Spread Percentile (Block 2)

$$Spread_t = |Net_{spec,t} - Net_{comm,t}|$$
$$P_{spread,t} = Percentile(Spread_t, lookback)$$

---

## 7. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º (Lookback)

### –ù–∞ –∫–æ–∂–Ω–æ–º—É —á–∞—Ä—Ç—ñ —Ç–∞ –±–ª–æ—Ü—ñ ‚Äî –¥–≤—ñ –≥—Ä—É–ø–∏ –∫–Ω–æ–ø–æ–∫:

#### –ì—Ä—É–ø–∞ 1: –°—Ç–∞—Ç–∏—á–Ω–∏–π –¥—ñ–∞–ø–∞–∑–æ–Ω (Calendar Range)
–ü–æ–∫–∞–∑—É—î –¥–∞–Ω—ñ –∑–∞ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–∏–π –ø–µ—Ä—ñ–æ–¥ –≤—ñ–¥ —Å—å–æ–≥–æ–¥–Ω—ñ:

| –ö–Ω–æ–ø–∫–∞ | –ü–µ—Ä—ñ–æ–¥ | –¢–∏–∂–Ω—ñ–≤ (‚âà) |
|---|---|---|
| 1M | 1 –º—ñ—Å—è—Ü—å | 4 |
| 3M | 3 –º—ñ—Å—è—Ü—ñ | 13 |
| 6M | 6 –º—ñ—Å—è—Ü—ñ–≤ | 26 |
| 1Y | 1 —Ä—ñ–∫ | 52 |
| 2Y | 2 —Ä–æ–∫–∏ | 104 |
| 3Y | 3 —Ä–æ–∫–∏ | 156 |
| 5Y | 5 —Ä–æ–∫—ñ–≤ | 260 |

–¶–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ **–≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è** –≥—Ä–∞—Ñ—ñ–∫–∞ (X-axis range).

#### –ì—Ä—É–ø–∞ 2: Rolling Lookback (–¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤)
–ü–µ—Ä–µ–º–∏–∫–∞—á –¥–ª—è –∑–º—ñ–Ω–∏ **–≤—ñ–∫–Ω–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤** (percentile, Z-score, COT Index):

| –ö–Ω–æ–ø–∫–∞ | Rolling Window |
|---|---|
| 30D | 30 –¥–Ω—ñ–≤ (~4 —Ç–∏–∂–Ω—ñ) |
| 90D | 90 –¥–Ω—ñ–≤ (~13 —Ç–∏–∂–Ω—ñ–≤) |
| 180D | 180 –¥–Ω—ñ–≤ (~26 —Ç–∏–∂–Ω—ñ–≤) |
| 365D | 365 –¥–Ω—ñ–≤ (~52 —Ç–∏–∂–Ω—ñ) |

**–í–∞–∂–ª–∏–≤–æ**: –ö–æ–ª–∏ –∑–º—ñ–Ω—é—î—Ç—å—Å—è rolling lookback, **–≤—Å—ñ** percentile —Ç–∞ Z-score –∑–Ω–∞—á–µ–Ω–Ω—è –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è –∑–∞ —Ü–µ–π –Ω–æ–≤–∏–π –ø–µ—Ä—ñ–æ–¥. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –±–∞—á–∏—Ç–∏ —á–∏ –ø–æ–∑–∏—Ü—ñ—è –µ–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞ –≤ –∫–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ–π –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ñ (30D) –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤ –¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ–π (365D) –≤–æ–Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–∞.

### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ

```python
# –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É
GET /api/v1/cot/dashboard/{code}?
    report_type=tff&
    subtype=fo&
    display_range=2Y&      # —Å–∫—ñ–ª—å–∫–∏ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ –≥—Ä–∞—Ñ—ñ–∫—É
    lookback=365            # rolling window –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤ (–¥–Ω—ñ–≤)
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏)**:
–ë–µ–∫–µ–Ω–¥ –≤—ñ–¥–¥–∞—î –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –Ω–∞–±—ñ—Ä –¥–∞–Ω–∏—Ö (5Y), –∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–∞–º –æ–±—Ä—ñ–∑–∞—î –≤–∏–¥–∏–º–∏–π –¥—ñ–∞–ø–∞–∑–æ–Ω —ñ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î percentile/Z-score –¥–ª—è –æ–±—Ä–∞–Ω–æ–≥–æ lookback window. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ, –±–æ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –Ω–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –ø—Ä–∏ –∑–º—ñ–Ω—ñ lookback.

---

## 8. –î–∞–Ω—ñ: —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑ –±–µ–∫–µ–Ω–¥—É

### 8.1 –ù–æ–≤–∏–π –µ–Ω–¥–ø–æ—ñ–Ω—Ç –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞

```
GET /api/v1/cot/dashboard/{code}
```

**Query Params**:
- `report_type` ‚Äî (optional, default = primary –¥–ª—è –∞–∫—Ç–∏–≤—É)
- `subtype` ‚Äî (optional, default = 'fo')

**Response**:
```json
{
  "market": {
    "code": "099741",
    "name": "Euro FX",
    "exchange_code": "EUR",
    "sector": "FX",
    "primary_report": "tff",
    "spec_group": "g3",
    "comm_group": "g1",
    "available_reports": ["tff", "legacy"]
  },
  "groups": [...],
  "weeks": [
    {
      "date": "2026-02-10",
      "open_interest": 650000,
      "oi_change": 12500,
      "g3_long": 250000,
      "g3_short": 180000,
      "g3_net": 70000,
      "g3_change_long": 5000,
      "g3_change_short": -2000,
      "g3_change_net": 7000,
      "g1_long": 180000,
      "g1_short": 350000,
      "g1_net": -170000,
      "g1_change_net": -8000,
      // ... —ñ–Ω—à—ñ –≥—Ä—É–ø–∏
    }
    // ... 260+ —Ç–∏–∂–Ω—ñ–≤ (5Y) –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ lookback
  ],
  "prices": [
    { "date": "2026-02-10", "close": 1.0850 }
    // weekly closes aligned with COT dates
  ],
  "concentration": {
    "top4_long_pct": 35.2,
    "top4_short_pct": 48.7,
    "top8_long_pct": 52.1,
    "top8_short_pct": 67.3
  },
  "meta": {
    "data_as_of": "2026-02-10",
    "published_at": "2026-02-13",
    "latest_week_index": 0
  }
}
```

### 8.2 –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ

–£—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ **—Ä–æ–∑—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ** –∑ —Å–∏—Ä–∏—Ö –¥–∞–Ω–∏—Ö weeks[]:

| –ú–µ—Ç—Ä–∏–∫–∞ | –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ | Lookback-–∑–∞–ª–µ–∂–Ω–∞? |
|---|---|---|
| Net Position | `g_long - g_short` | –ù—ñ |
| Weekly Change | `net[t] - net[t-1]` | –ù—ñ |
| Percentile | Rank —Å–µ—Ä–µ–¥ lookback values | **–¢–∞–∫** |
| Z-Score | `(val - mean) / std` | **–¢–∞–∫** |
| COT Index | `(val - min) / (max - min) * 100` | **–¢–∞–∫** |
| Market Power | `longs / OI * 100` | –ù—ñ |
| Position Velocity | `Œînet[t] - Œînet[t-1]` | –ù—ñ |
| Sentiment Divergence | Percentile of spec + comm | **–¢–∞–∫** |
| Spread Percentile | Percentile of spread | **–¢–∞–∫** |
| Flip Detection | Sign change of net | –ù—ñ |
| OI Signal Matrix | Direction of price Œî + OI Œî | –ù—ñ |

### 8.3 –î–∞–Ω—ñ –¥–ª—è Screener

–ú–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π screener –µ–Ω–¥–ø–æ—ñ–Ω—Ç –∞–±–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π:

```
GET /api/v1/cot/screener-v2
```

–î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∞–∫—Ç–∏–≤—É —Å–∫—Ä—ñ–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î primaryReport —ñ specGroup.

**Response row**:
```json
{
  "code": "099741",
  "name": "Euro FX",
  "exchange_code": "EUR",
  "sector": "FX",
  "primary_report": "tff",
  "date": "2026-02-10",
  "net_position": 70000,
  "percentile_104w": 89,
  "z_score_104w": 1.85,
  "wow_change": 7000,
  "open_interest": 650000,
  "oi_change": 12500,
  "oi_change_pct": 1.96,
  "flip_tag": "Neutral",
  "prev_net": 63000
}
```

---

## 9. –¢–µ—Ö–Ω—ñ—á–Ω–∏–π –ø–ª–∞–Ω —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### –§–∞–∑–∞ 1: –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–¢–∏–∂–¥–µ–Ω—å 1)

| # | –ó–∞–¥–∞—á–∞ | –î–µ—Ç–∞–ª—ñ |
|---|---|---|
| 1.1 | **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∞–∫—Ç–∏–≤—ñ–≤** | –°—Ç–≤–æ—Ä–∏—Ç–∏ `assetConfig.ts` –∑ –º–∞–ø–ø—ñ–Ω–≥–æ–º code ‚Üí sector, primaryReport, specGroup, commGroup |
| 1.2 | **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è** | –û–Ω–æ–≤–∏—Ç–∏ `router.tsx`: –¥–æ–¥–∞—Ç–∏ `/cot/dashboard/:code`, `/cot/report/:code`, —Ä–µ–¥—ñ—Ä–µ–∫—Ç `/cot` ‚Üí `/cot/screener` |
| 1.3 | **Store** | –†–æ–∑—à–∏—Ä–∏—Ç–∏ `useCotStore`: –¥–æ–¥–∞—Ç–∏ `displayRange`, `lookbackDays`, dashboard-related state |
| 1.4 | **Types** | –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏: `DashboardData`, `AssetConfig`, `ScreenerV2Row`, `FlipEvent`, `OISignal` |
| 1.5 | **–ë–µ–∫–µ–Ω–¥: dashboard endpoint** | –ù–æ–≤–∏–π endpoint `/api/v1/cot/dashboard/{code}` —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î 5Y raw data |
| 1.6 | **–ë–µ–∫–µ–Ω–¥: screener-v2** | –ù–æ–≤–∏–π endpoint –∞–±–æ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è —ñ—Å–Ω—É—é—á–æ–≥–æ, –∑ auto-detect primaryReport |

### –§–∞–∑–∞ 2: –°–∫—Ä—ñ–Ω–µ—Ä (–¢–∏–∂–¥–µ–Ω—å 2)

| # | –ó–∞–¥–∞—á–∞ | –î–µ—Ç–∞–ª—ñ |
|---|---|---|
| 2.1 | **ScreenerPage** | –ù–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞-–æ–±–≥–æ—Ä—Ç–∫–∞ (`/cot/screener`) –∑ header, filters, table |
| 2.2 | **ScreenerTable v2** | –ü–µ—Ä–µ—Ä–æ–±–∏—Ç–∏ –∫–æ–ª–æ–Ω–∫–∏: Net Position, Percentile bar, Z-Score, WoW Change, OI Trend, FLIP tag |
| 2.3 | **Sector filters** | Chip-–∫–Ω–æ–ø–∫–∏ –∑ –∞–∫—Ç—É–∞–ª—å–Ω–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ —Ç–∞ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞–º–∏ |
| 2.4 | **Row click** | –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –¥–æ `/cot/dashboard/{code}` |
| 2.5 | **Landing integration** | –ö–Ω–æ–ø–∫–∞ COT Reports –Ω–∞ –ª–µ–Ω–¥—ñ–Ω–≥—É ‚Üí `/cot/screener` |

### –§–∞–∑–∞ 3: –î–∞—à–±–æ—Ä–¥ ‚Äî –±–∞–∑–æ–≤—ñ –±–ª–æ–∫–∏ (–¢–∏–∂–Ω—ñ 3‚Äì4)

| # | –ó–∞–¥–∞—á–∞ | –î–µ—Ç–∞–ª—ñ |
|---|---|---|
| 3.1 | **DashboardPage layout** | Scaffold —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ header snapshot, grid layout, navigation |
| 3.2 | **Hooks: useAssetDashboard** | React Query hook + —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ (percentile, Z-score, etc.) |
| 3.3 | **Utility: calculations.ts** | –§—É–Ω–∫—Ü—ñ—ó: `calcPercentile()`, `calcZScore()`, `calcCOTIndex()`, `detectFlips()`, `calcVelocity()` |
| 3.4 | **Block 1.1 + 1.2** | Net Long / Net Short –∑ percentile zones —Ç–∞ Z-Score –ø—ñ–¥–≤–∞–ª–æ–º |
| 3.5 | **Block 2** | Divergence chart (Price vs specGroup + commGroup net) –∑ spread sidebar |
| 3.6 | **Block 3** | OI Analysis –∑ –∫–æ–ª—å–æ—Ä–æ–≤–æ—é –ª—ñ–Ω—ñ—î—é —Ü—ñ–Ω–∏ –∑–∞ –º–∞—Ç—Ä–∏—Ü–µ—é |
| 3.7 | **Block 4** | Distribution histogram |
| 3.8 | **Block 6** | FLIP bubbles –Ω–∞ —Ü—ñ–Ω–æ–≤–æ–º—É –≥—Ä–∞—Ñ—ñ–∫—É |

### –§–∞–∑–∞ 4: –î–∞—à–±–æ—Ä–¥ ‚Äî advanced —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ (–¢–∏–∂–Ω—ñ 5‚Äì6)

| # | –ó–∞–¥–∞—á–∞ | –î–µ—Ç–∞–ª—ñ |
|---|---|---|
| 4.1 | **Indicator 1** | Market Power (stacked area) + price background alerts |
| 4.2 | **Indicator 2** | Position Velocity oscillator + yellow diamond warnings |
| 4.3 | **Indicator 3** | Sentiment Divergence dual line + fill divergence zones |
| 4.4 | **Indicator 4** | Concentration Ratio gauge widget |
| 4.5 | **Indicator 5** | Triple Lookback heatmap matrix |

### –§–∞–∑–∞ 5: Lookback System + Report Page (–¢–∏–∂–¥–µ–Ω—å 7)

| # | –ó–∞–¥–∞—á–∞ | –î–µ—Ç–∞–ª—ñ |
|---|---|---|
| 5.1 | **RangeSelector** | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑ –¥–≤–æ–º–∞ —Ä—è–¥–∫–∞–º–∏ –∫–Ω–æ–ø–æ–∫ (display range + rolling lookback) |
| 5.2 | **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è** | –í–±—É–¥—É–≤–∞—Ç–∏ RangeSelector —É –∫–æ–∂–µ–Ω –±–ª–æ–∫; –ø—Ä–∏ –∑–º—ñ–Ω—ñ lookback –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ |
| 5.3 | **ReportPage** | –û–∫—Ä–µ–º–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ `/cot/report/:code` –∑ —ñ—Å–Ω—É—é—á–æ—é CotReportTable + –ø–µ—Ä–µ–º–∏–∫–∞—á—ñ FO/CO + report type |
| 5.4 | **Report Type switcher** | –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ª–∏—à–µ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–≤—ñ—Ç–∏ –¥–ª—è –∞–∫—Ç–∏–≤—É (–Ω–∞–ø—Ä. TFF + Legacy –¥–ª—è EUR) |

### –§–∞–∑–∞ 6: Block 5 + Polish (–¢–∏–∂–Ω—ñ 8+)

| # | –ó–∞–¥–∞—á–∞ | –î–µ—Ç–∞–ª—ñ |
|---|---|---|
| 6.1 | **Block 5: Sector sidebar** | –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è per-sector –∫–æ–Ω—Ç–µ–∫—Å—Ç—É (FX carry, seasonal, yield curve) |
| 6.2 | **Responsive design** | –ê–¥–∞–ø—Ç–∞—Ü—ñ—è –ø—ñ–¥ –º–æ–±—ñ–ª—å–Ω—ñ / –ø–ª–∞–Ω—à–µ—Ç–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ |
| 6.3 | **Performance** | –ú–µ–º–æ—ñ–∑–∞—Ü—ñ—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤, virtualization –¥–ª—è –¥–æ–≤–≥–∏—Ö —Å–µ—Ä—ñ–π |
| 6.4 | **Testing** | E2E —Ç–µ—Å—Ç–∏, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ—Ä–º—É–ª –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö |
| 6.5 | **Documentation** | –û–Ω–æ–≤–ª–µ–Ω–Ω—è DocumentationModal –∑ –æ–ø–∏—Å–æ–º –Ω–æ–≤–∏—Ö –±–ª–æ–∫—ñ–≤ |

---

## –î–æ–¥–∞—Ç–æ–∫ A: –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞: Recharts (–≤–∂–µ –≤ –ø—Ä–æ–µ–∫—Ç—ñ) –∞–±–æ Lightweight Charts (TradingView)

| –ë–ª–æ–∫ | –¢–∏–ø —á–∞—Ä—Ç—É | –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ |
|---|---|---|
| Price charts | Line | Recharts / Lightweight Charts |
| Percentile zones | Area with reference lines | Recharts |
| Z-Score | Line with thresholds | Recharts |
| Distribution histogram | Bar chart | Recharts |
| OI Analysis | Multi-type (line + area) | Recharts |
| Stacked Area (Market Power) | Stacked Area | Recharts |
| Velocity Oscillator | Bar chart | Recharts |
| Gauge Meter | Custom SVG | Custom component |
| Heatmap Matrix | Grid of cells | Custom component (CSS Grid) |
| Bubble Chart (FLIP) | Scatter + Line | Recharts ComposedChart |

---

## –î–æ–¥–∞—Ç–æ–∫ B: –ö–æ–ª—å–æ—Ä–æ–≤–∞ —Å—Ö–µ–º–∞

```typescript
const DASHBOARD_COLORS = {
  // Percentile zones
  extreme_long:     '#EF4444',  // Red ‚Äî –ø–µ—Ä–µ–≥—Ä—ñ–≤
  extreme_short:    '#22C55E',  // Green ‚Äî –∫–∞–ø—ñ—Ç—É–ª—è—Ü—ñ—è
  above_avg:        '#F59E0B',  // Amber
  below_avg:        '#3B82F6',  // Blue
  neutral:          '#6B7280',  // Gray
  
  // Lines
  spec_line:        '#3B82F6',  // Blue ‚Äî speculators
  comm_line:        '#F97316',  // Orange ‚Äî commercials
  price_line:       '#E5E7EB',  // Light gray
  
  // OI Signal matrix
  strong_demand:    '#22C55E',  // Green
  long_liquidation: '#EAB308',  // Yellow
  short_covering:   '#3B82F6',  // Blue
  new_supply:       '#EF4444',  // Red
  
  // FLIP bubbles
  flip_to_long:     '#22C55E',
  flip_to_short:    '#EF4444',
  
  // Velocity
  velocity_pos:     '#22C55E',
  velocity_neg:     '#EF4444',
  velocity_hollow:  'transparent',
  
  // Market Power
  l_power:          '#22C55E80', // Green with alpha
  s_power:          '#EF444480', // Red with alpha
  
  // Alerts
  warning_diamond:  '#EAB308',  // Yellow
  divergence_fill:  '#7C3AED40', // Purple with alpha
  
  // Background highlights
  short_squeeze_bg: '#EF444410',
  long_squeeze_bg:  '#22C55E10',
};
```

---

## –î–æ–¥–∞—Ç–æ–∫ C: Existing Codebase Integration Points

### –§–∞–π–ª–∏ —è–∫—ñ —Ç—Ä–µ–±–∞ –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏

| –§–∞–π–ª | –ó–º—ñ–Ω–∞ |
|---|---|
| `frontend/src/router.tsx` | –ù–æ–≤—ñ –º–∞—Ä—à—Ä—É—Ç–∏: dashboard/:code, report/:code, redirect |
| `frontend/src/apps/cot/CotApp.tsx` | –°–ø—Ä–æ—Å—Ç–∏—Ç–∏ ‚Äî —Ç–µ–ø–µ—Ä —Ü–µ layout wrapper, –Ω–µ main component |
| `frontend/src/apps/cot/store/useCotStore.ts` | –î–æ–¥–∞—Ç–∏ displayRange, lookbackDays state |
| `frontend/src/apps/cot/utils/constants.ts` | –î–æ–¥–∞—Ç–∏ ASSET_CONFIG, SECTORS, FLIP_TAGS |
| `frontend/src/apps/cot/types/` | –ù–æ–≤—ñ —Ç–∏–ø–∏ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ |
| `frontend/src/pages/Landing.tsx` | –ö–Ω–æ–ø–∫–∞ ‚Üí /cot/screener |
| `backend/app/modules/cot/router.py` | –ù–æ–≤–∏–π endpoint dashboard |
| `backend/app/modules/cot/calculator.py` | –†–æ–∑—à–∏—Ä–∏—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ |
| `backend/app/modules/cot/config.py` | –î–æ–¥–∞—Ç–∏ asset config |

### –ù–æ–≤—ñ —Ñ–∞–π–ª–∏

| –§–∞–π–ª | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|---|---|
| `frontend/src/apps/cot/pages/ScreenerPage.tsx` | –û–±–≥–æ—Ä—Ç–∫–∞ —Å–∫—Ä—ñ–Ω–µ—Ä–∞ |
| `frontend/src/apps/cot/pages/DashboardPage.tsx` | –î–∞—à–±–æ—Ä–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–∫—Ç–∏–≤—É |
| `frontend/src/apps/cot/pages/ReportPage.tsx` | –¢–∞–±–ª–∏—Ü—è —Ä–µ–ø–æ—Ä—Ç—É |
| `frontend/src/apps/cot/utils/assetConfig.ts` | –ú–∞–ø–ø—ñ–Ω–≥ –∞–∫—Ç–∏–≤—ñ–≤ |
| `frontend/src/apps/cot/utils/calculations.ts` | –§—Ä–æ–Ω—Ç–µ–Ω–¥-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä |
| `frontend/src/apps/cot/hooks/useDashboard.ts` | React Query + —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ |
| `frontend/src/apps/cot/components/dashboard/` | –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –±–ª–æ–∫—ñ–≤ |
| `frontend/src/apps/cot/components/dashboard/HeaderSnapshot.tsx` | –®–∞–ø–∫–∞ |
| `frontend/src/apps/cot/components/dashboard/NetAnalysisChart.tsx` | Block 1.1 / 1.2 |
| `frontend/src/apps/cot/components/dashboard/DivergenceChart.tsx` | Block 2 |
| `frontend/src/apps/cot/components/dashboard/OIAnalysisChart.tsx` | Block 3 |
| `frontend/src/apps/cot/components/dashboard/DistributionHistogram.tsx` | Block 4 |
| `frontend/src/apps/cot/components/dashboard/SectorContext.tsx` | Block 5 |
| `frontend/src/apps/cot/components/dashboard/FlipChart.tsx` | Block 6 |
| `frontend/src/apps/cot/components/dashboard/MarketPower.tsx` | Indicator 1 |
| `frontend/src/apps/cot/components/dashboard/PositionVelocity.tsx` | Indicator 2 |
| `frontend/src/apps/cot/components/dashboard/SentimentDivergence.tsx` | Indicator 3 |
| `frontend/src/apps/cot/components/dashboard/ConcentrationGauge.tsx` | Indicator 4 |
| `frontend/src/apps/cot/components/dashboard/TripleLookback.tsx` | Indicator 5 |
| `frontend/src/apps/cot/components/shared/RangeSelector.tsx` | Lookback/Range picker |
| `backend/app/modules/cot/dashboard_service.py` | Dashboard-specific logic |

---

## –î–æ–¥–∞—Ç–æ–∫ D: Data Validation Checklist

–ü–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö:

- [ ] Percentile 99th –¥–ª—è AUD (–æ—á—ñ–∫—É—î–º–æ >33,000 net long)
- [ ] Z-Score >2.0 –¥–ª—è CAD (–æ—á—ñ–∫—É—î–º–æ ~2.58)
- [ ] FLIP detection: –ø–æ—à—É–∫ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö flips —É EUR –∑–∞ 2024‚Äì2025
- [ ] OI Signal Matrix: –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–ª—å–æ—Ä–∏ –ª—ñ–Ω—ñ—ó —Ü—ñ–Ω–∏ –Ω–∞ Gold
- [ ] Market Power: S_Power –¥–ª—è Natural Gas (–æ—á—ñ–∫—É—î–º–æ –∑–Ω–∞—á–Ω–∏–π % —à–æ—Ä—Ç—ñ–≤)
- [ ] Velocity: –∑–Ω–∞–π—Ç–∏ Pre-Flip –∑–æ–Ω–∏ –¥–µ velocity –≤—ñ–¥'—î–º–Ω–∞ –ø—Ä–∏ –ª–æ–Ω–≥–æ–≤—ñ–π –ø–æ–∑–∏—Ü—ñ—ó
- [ ] Concentration: Top-4 % –¥–ª—è Nano BTC (–æ—á—ñ–∫—É—î–º–æ > 60%)
- [ ] Triple Lookback: –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ 5Y –¥–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ä–∏–Ω–∫—ñ–≤
- [ ] Divergence: –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–∑–µ—Ä–∫–∞–ª—å–Ω—ñ—Å—Ç—å spec vs comm –¥–ª—è Gold
